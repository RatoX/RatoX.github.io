{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/_has.js","webpack:///./node_modules/core-js/library/modules/es6.parse-float.js","webpack:///./node_modules/core-js/library/modules/_parse-float.js","webpack:///./node_modules/core-js/library/modules/_to-primitive.js","webpack:///./node_modules/core-js/library/modules/_dom-create.js","webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///./node_modules/core-js/library/modules/_defined.js","webpack:///./node_modules/pica/lib/mm_resize/convolve.js","webpack:///./src/components/tools/ImageResizer.vue?8768","webpack:///./node_modules/core-js/library/modules/_fails.js","webpack:///./node_modules/multimath/lib/wa_detect.js","webpack:///./node_modules/object-assign/index.js","webpack:///./node_modules/core-js/library/modules/_hide.js","webpack:///./node_modules/pica/lib/utils.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/pica/lib/tiler.js","webpack:///./node_modules/pica/index.js","webpack:///./node_modules/multimath/lib/unsharp_mask/hsl_l16.js","webpack:///./node_modules/core-js/library/modules/_core.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/parse-float.js","webpack:///./node_modules/pica/lib/pool.js","webpack:///./node_modules/glur/mono16.js","webpack:///./node_modules/core-js/library/modules/_export.js","webpack:///./node_modules/multimath/lib/unsharp_mask/index.js","webpack:///./node_modules/pica/lib/mm_resize/resize_wasm.js","webpack:///./node_modules/pica/lib/mm_resize/resize.js","webpack:///./node_modules/pica/lib/mm_resize/index.js","webpack:///./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/library/modules/_a-function.js","webpack:///./node_modules/core-js/library/fn/parse-float.js","webpack:///./node_modules/pica/lib/worker.js","webpack:///./node_modules/core-js/library/modules/_descriptors.js","webpack:///./node_modules/multimath/lib/base64decode.js","webpack:///./node_modules/core-js/library/modules/_string-trim.js","webpack:///./node_modules/multimath/index.js","webpack:///./src/components/tools/ImageResizer.vue?4055","webpack:///src/components/tools/ImageResizer.vue","webpack:///./src/components/tools/ImageResizer.vue?54e1","webpack:///./src/components/tools/ImageResizer.vue?128c","webpack:///./node_modules/core-js/library/modules/_property-desc.js","webpack:///./node_modules/multimath/lib/unsharp_mask/unsharp_mask_wasm.js","webpack:///./node_modules/pica/lib/mm_resize/convolve_wasm_base64.js","webpack:///./node_modules/webworkify/index.js","webpack:///./node_modules/core-js/library/modules/_ctx.js","webpack:///./node_modules/core-js/library/modules/_object-dp.js","webpack:///./node_modules/pica/lib/mathlib.js","webpack:///./node_modules/core-js/library/modules/_an-object.js","webpack:///./node_modules/core-js/library/modules/_global.js","webpack:///./node_modules/core-js/library/modules/_string-ws.js","webpack:///./node_modules/pica/lib/stepper.js","webpack:///./node_modules/pica/lib/mm_resize/resize_filter_info.js","webpack:///./node_modules/pica/lib/mm_resize/resize_filter_gen.js","webpack:///./node_modules/multimath/lib/unsharp_mask/unsharp_mask.js","webpack:///./node_modules/core-js/library/modules/_is-object.js","webpack:///./node_modules/multimath/lib/unsharp_mask/unsharp_mask_wasm_base64.js"],"names":["hasOwnProperty","module","exports","it","key","call","$export","__webpack_require__","$parseFloat","G","F","parseFloat","$trim","trim","Infinity","str","string","String","result","charAt","isObject","S","fn","val","toString","valueOf","TypeError","document","is","createElement","global","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","a","b","apply","undefined","this","autoBom","console","warn","test","type","Blob","c","d","e","XMLHttpRequest","open","responseType","onload","response","onerror","error","send","status","dispatchEvent","MouseEvent","createEvent","initMouseEvent","window","f","self","saveAs","HTMLAnchorElement","prototype","g","h","i","URL","webkitURL","j","name","download","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","navigator","msSaveOrOpenBlob","title","body","innerText","HTMLElement","safari","userAgent","FileReader","onloadend","replace","readAsDataURL","k","l","clampTo8","convolveHorizontally","src","dest","srcW","srcH","destW","filters","r","filterPtr","filterShift","filterSize","srcPtr","srcY","destX","filterVal","srcOffset","destOffset","convolveVertically","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ImageResizer_vue_vue_type_style_index_0_id_1e654a45_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ImageResizer_vue_vue_type_style_index_0_id_1e654a45_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","exec","wa","WebAssembly","bin","Uint8Array","Module","instance","Instance","__","getOwnPropertySymbols","Object","propIsEnumerable","propertyIsEnumerable","toObject","shouldUseNative","assign","test1","getOwnPropertyNames","test2","fromCharCode","order2","map","join","test3","split","forEach","letter","keys","err","source","from","symbols","to","s","arguments","length","dP","createDesc","object","value","objClass","obj","isCanvas","element","cname","isImage","limiter","concurrency","active","queue","roll","shift","Promise","resolve","reject","push","then","cib_quality_name","num","cib_support","createImageBitmap","width","height","resizeWidth","resizeHeight","resizeQuality","bitmap","close","catch","create","ctor","superCtor","super_","constructor","enumerable","writable","configurable","TempCtor","PIXEL_EPSILON","pixelFloor","x","nearest","Math","round","abs","floor","pixelCeil","ceil","options","y","innerX","innerY","toTileWidth","toTileHeight","scaleX","toWidth","scaleY","toHeight","innerTileWidth","srcTileSize","destTileBorder","innerTileHeight","Error","tile","tiles","toX","toY","toInnerX","toInnerY","toInnerWidth","toInnerHeight","offsetX","offsetY","webworkify","MathLib","Pool","utils","worker","createStages","createRegions","singletones","NEED_SAFARI_FIX","indexOf","min","hardwareConcurrency","DEFAULT_PICA_OPTS","features","idle","DEFAULT_RESIZE_OPTS","quality","alpha","unsharpAmount","unsharpRadius","unsharpThreshold","CAN_NEW_IMAGE_DATA","CAN_CREATE_IMAGE_BITMAP","workerFabric","destroy","terminate","url","mozURL","msURL","objectURL","Pica","limiter_key","__limit","js","wasm","cib","ww","__workersPool","__requested_features","__mathlib","init","__initPromise","ImageData","Uint8ClampedArray","ImageBitmap","debug","slice","wkr","wpool_key","JSON","stringify","checkCibResize","initMath","mathlib","all","resize","opts","isNaN","naturalWidth","naturalHeight","canceled","cancelToken","data","DEST_TILE_BORDER","max","toCtx","getContext","Boolean","imageBitmap","drawImage","tmpCanvas","tmpCtx","iData","getImageData","unsharp","putImageData","cache","invokeResize","w","acquire","onmessage","ev","release","postMessage","preload","wasm_nodule","buffer","resizeAndUnsharp","tileAndResize","srcCtx","srcImageBitmap","processTile","srcImageData","globalCompositeOperation","o","toImageData","createImageData","set","regions","jobs","cleanup","processStages","stages","isLastStage","resizeBuffer","toBlob","canvas","mimeType","blob","asString","atob","toDataURL","len","asBuffer","charCodeAt","img","size","out","Uint16Array","core","version","__e","GC_INTERVAL","available","acquired","lastId","timeoutId","resource","pop","id","lastUsed","Date","now","gc","filter","a0","a1","a2","a3","b1","b2","left_corner","right_corner","gaussCoef","sigma","exp","g1","g2","Float32Array","convolveMono16","line","coeff","prev_src","curr_src","curr_out","prev_out","prev_prev_out","src_index","out_index","line_index","coeff_a0","coeff_a1","coeff_b1","coeff_b2","blurMono16","radius","tmp_line","ctx","hide","has","PROTOTYPE","own","IS_FORCED","IS_GLOBAL","IS_STATIC","IS_PROTO","P","IS_BIND","B","IS_WRAP","W","expProto","C","Function","virtual","R","U","wasm_fn","wasm_src","createFilters","resetAlpha","dst","ptr","asUint8Array","byteLength","IS_LE","Uint32Array","copyInt16asLE","target_offset","destH","filtersX","filtersY","src_offset","tmp_offset","__align","filtersX_offset","filtersY_offset","alloc_bytes","__instance","mem","__memory","mem32","src32","convolveHV","_convolveHV","dest32","tmp","defineProperty","get","mathLib","BASE64_MAP","input","bits","idx","tailbits","defined","fails","spaces","space","non","ltrim","RegExp","rtrim","exporter","KEY","ALIAS","FORCE","TYPE","base64decode","hasWebAssembly","DEFAULT_OPTIONS","MultiMath","__cache","has_wasm","__init_promise","__modules","modules","__wasm","__isLE","use","compile","__base64decode","m","__reallocate","bytes","Memory","initial","mem_size","grow","memsize","env_extra","env_base","memoryBase","memory","tableBase","table","Table","env","number","base","reminder","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","accept","disabled","loading","on","change","changeImage","for","_v","_s","original","dimension","newDimension","directives","rawName","expression","domProps","updateNewDimensions","__r","$event","reducePercent","click","reduceIt","ref","newFile","_e","staticRenderFns","ImageResizervue_type_script_lang_js_pica","pica_default","formatBytes","decimals","dm","sizes","log","concat","parse_float_default","pow","toFixed","ImageResizervue_type_script_lang_js_","image","computed","methods","percent","_this$image","newWidth","newHeight","_this","$refs","FileSaver_min","_ref","_this2","file","files","reader","event","Image","tools_ImageResizervue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","amount","threshold","pixels","img_bytes_cnt","hsl_bytes_cnt","blur_bytes_cnt","blur_line_byte_cnt","blur_coeffs_byte_cnt","img_offset","hsl_offset","blur_offset","blur_tmp_offset","blur_line_offset","blur_coeffs_offset","img32","hsl_l16","_hsl_l16","_blurMono16","_unsharp","bundleFn","sources","wkey","cacheKeys","default","random","wcache","skey","scache","workerSources","resolveSources","depPath","depKey","bare","workerUrl","Worker","aFunction","that","anObject","IE8_DOM_DEFINE","toPrimitive","O","Attributes","inherits","Multimath","mm_unsharp_mask","mm_resize","requested_features","unsharp_mask","__g","MIN_INNER_TILE_SIZE","fromWidth","fromHeight","minScale","stageCount","win","xpi","PI","sin","cos","FILTER_INFO","FIXED_FRAC_BITS","toFixedPoint","srcSize","destSize","scale","offset","destPixel","srcPixel","srcFirst","srcLast","filterElementSize","floatFilter","fxpFilter","total","pxl","floatVal","filterTotal","leftNotEmpty","rightNotEmpty","filterFunction","scaleInverted","scaleClamped","srcWindow","maxFilterElementSize","packedFilter","Int16Array","packedFilterPtr","slowCopy","subarray","glur_mono16","m1","m2","hShifted","diff","iTimes4","lightness","blured","amountFp","thresholdFp"],"mappings":"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","file":"js/chunk-9982744c.a4398257.js","sourcesContent":["var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 18.2.4 parseFloat(string)\n$export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat });\n","var $parseFloat = require('./_global').parseFloat;\nvar $trim = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open(\"GET\",b),e.responseType=\"blob\",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error(\"could not download file\")},e.send()}function d(a){var b=new XMLHttpRequest;return b.open(\"HEAD\",a,!1),b.send(),200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open(\"\",\"_blank\"),e&&(e.document.title=e.document.body.innerText=\"downloading...\"),\"string\"==typeof a)return c(a,b,d);var g=\"application/octet-stream\"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((i||g&&h)&&\"object\"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}});f.saveAs=a.saveAs=a,\"undefined\"!=typeof module&&(module.exports=a)});\n\n//# sourceMappingURL=FileSaver.min.js.map","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Resize convolvers, pure JS implementation\n//\n'use strict';\n\n\n// Precision of fixed FP values\n//var FIXED_FRAC_BITS = 14;\n\n\nfunction clampTo8(i) { return i < 0 ? 0 : (i > 255 ? 255 : i); }\n\n\n// Convolve image in horizontal directions and transpose output. In theory,\n// transpose allow:\n//\n// - use the same convolver for both passes (this fails due different\n//   types of input array and temporary buffer)\n// - making vertical pass by horisonltal lines inprove CPU cache use.\n//\n// But in real life this doesn't work :)\n//\nfunction convolveHorizontally(src, dest, srcW, srcH, destW, filters) {\n\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0, destOffset = 0;\n\n  // For each row\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr  = 0;\n\n    // Apply precomputed filters to each destination row point\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize  = filters[filterPtr++];\n\n      srcPtr = (srcOffset + (filterShift * 4))|0;\n\n      r = g = b = a = 0;\n\n      // Apply the filter to the row to get the destination pixel r, g, b, a\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++];\n\n        // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n        a = (a + filterVal * src[srcPtr + 3])|0;\n        b = (b + filterVal * src[srcPtr + 2])|0;\n        g = (g + filterVal * src[srcPtr + 1])|0;\n        r = (r + filterVal * src[srcPtr])|0;\n        srcPtr = (srcPtr + 4)|0;\n      }\n\n      // Bring this value back in range. All of the filter scaling factors\n      // are in fixed point with FIXED_FRAC_BITS bits of fractional part.\n      //\n      // (!) Add 1/2 of value before clamping to get proper rounding. In other\n      // case brightness loss will be noticeable if you resize image with white\n      // border and place it on white background.\n      //\n      dest[destOffset + 3] = clampTo8((a + (1 << 13)) >> 14/*FIXED_FRAC_BITS*/);\n      dest[destOffset + 2] = clampTo8((b + (1 << 13)) >> 14/*FIXED_FRAC_BITS*/);\n      dest[destOffset + 1] = clampTo8((g + (1 << 13)) >> 14/*FIXED_FRAC_BITS*/);\n      dest[destOffset]     = clampTo8((r + (1 << 13)) >> 14/*FIXED_FRAC_BITS*/);\n      destOffset = (destOffset + srcH * 4)|0;\n    }\n\n    destOffset = ((srcY + 1) * 4)|0;\n    srcOffset  = ((srcY + 1) * srcW * 4)|0;\n  }\n}\n\n// Technically, convolvers are the same. But input array and temporary\n// buffer can be of different type (especially, in old browsers). So,\n// keep code in separate functions to avoid deoptimizations & speed loss.\n\nfunction convolveVertically(src, dest, srcW, srcH, destW, filters) {\n\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0, destOffset = 0;\n\n  // For each row\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr  = 0;\n\n    // Apply precomputed filters to each destination row point\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize  = filters[filterPtr++];\n\n      srcPtr = (srcOffset + (filterShift * 4))|0;\n\n      r = g = b = a = 0;\n\n      // Apply the filter to the row to get the destination pixel r, g, b, a\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++];\n\n        // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n        a = (a + filterVal * src[srcPtr + 3])|0;\n        b = (b + filterVal * src[srcPtr + 2])|0;\n        g = (g + filterVal * src[srcPtr + 1])|0;\n        r = (r + filterVal * src[srcPtr])|0;\n        srcPtr = (srcPtr + 4)|0;\n      }\n\n      // Bring this value back in range. All of the filter scaling factors\n      // are in fixed point with FIXED_FRAC_BITS bits of fractional part.\n      //\n      // (!) Add 1/2 of value before clamping to get proper rounding. In other\n      // case brightness loss will be noticeable if you resize image with white\n      // border and place it on white background.\n      //\n      dest[destOffset + 3] = clampTo8((a + (1 << 13)) >> 14/*FIXED_FRAC_BITS*/);\n      dest[destOffset + 2] = clampTo8((b + (1 << 13)) >> 14/*FIXED_FRAC_BITS*/);\n      dest[destOffset + 1] = clampTo8((g + (1 << 13)) >> 14/*FIXED_FRAC_BITS*/);\n      dest[destOffset]     = clampTo8((r + (1 << 13)) >> 14/*FIXED_FRAC_BITS*/);\n      destOffset = (destOffset + srcH * 4)|0;\n    }\n\n    destOffset = ((srcY + 1) * 4)|0;\n    srcOffset  = ((srcY + 1) * srcW * 4)|0;\n  }\n}\n\n\nmodule.exports = {\n  convolveHorizontally,\n  convolveVertically\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageResizer.vue?vue&type=style&index=0&id=1e654a45&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageResizer.vue?vue&type=style&index=0&id=1e654a45&scoped=true&lang=css&\"","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Detect WebAssembly support.\n// - Check global WebAssembly object\n// - Try to load simple module (can be disabled via CSP)\n//\n'use strict';\n\n\nvar wa;\n\n\nmodule.exports = function hasWebAssembly() {\n  // use cache if called before;\n  if (typeof wa !== 'undefined') return wa;\n\n  wa = false;\n\n  if (typeof WebAssembly === 'undefined') return wa;\n\n  // If WebAssenbly is disabled, code can throw on compile\n  try {\n    // https://github.com/brion/min-wasm-fail/blob/master/min-wasm-fail.in.js\n    // Additional check that WA internals are correct\n\n    /* eslint-disable comma-spacing, max-len */\n    var bin      = new Uint8Array([ 0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11 ]);\n    var module   = new WebAssembly.Module(bin);\n    var instance = new WebAssembly.Instance(module, {});\n\n    // test storing to and loading from a non-zero location via a parameter.\n    // Safari on iOS 11.2.5 returns 0 unexpectedly at non-zero locations\n    if (instance.exports.test(4) !== 0) wa = true;\n\n    return wa;\n  } catch (__) {}\n\n  return wa;\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","'use strict';\n\n\nfunction objClass(obj) { return Object.prototype.toString.call(obj); }\n\n\nmodule.exports.isCanvas = function isCanvas(element) {\n  //return (element.nodeName && element.nodeName.toLowerCase() === 'canvas') ||\n  let cname = objClass(element);\n\n  return cname === '[object HTMLCanvasElement]'/* browser */ ||\n         cname === '[object Canvas]'/* node-canvas */;\n};\n\n\nmodule.exports.isImage = function isImage(element) {\n  //return element.nodeName && element.nodeName.toLowerCase() === 'img';\n  return objClass(element) === '[object HTMLImageElement]';\n};\n\n\nmodule.exports.limiter = function limiter(concurrency) {\n  let active = 0,\n      queue  = [];\n\n  function roll() {\n    if (active < concurrency && queue.length) {\n      active++;\n      queue.shift()();\n    }\n  }\n\n  return function limit(fn) {\n    return new Promise((resolve, reject) => {\n      queue.push(() => {\n        fn().then(\n          result => {\n            resolve(result);\n            active--;\n            roll();\n          },\n          err => {\n            reject(err);\n            active--;\n            roll();\n          }\n        );\n      });\n\n      roll();\n    });\n  };\n};\n\n\nmodule.exports.cib_quality_name = function cib_quality_name(num) {\n  switch (num) {\n    case 0: return 'pixelated';\n    case 1: return 'low';\n    case 2: return 'medium';\n  }\n  return 'high';\n};\n\n\nmodule.exports.cib_support = function cib_support() {\n  return Promise.resolve().then(() => {\n    if (typeof createImageBitmap === 'undefined' ||\n        typeof document === 'undefined') {\n      return false;\n    }\n\n    let c = document.createElement('canvas');\n    c.width = 100;\n    c.height = 100;\n\n    return createImageBitmap(c, 0, 0, 100, 100, {\n      resizeWidth: 10,\n      resizeHeight: 10,\n      resizeQuality: 'high'\n    })\n    .then(bitmap => {\n      let status = (bitmap.width === 10);\n\n      // Branch below is filtered on upper level. We do not call resize\n      // detection for basic ImageBitmap.\n      //\n      // https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmap\n      // old Crome 51 has ImageBitmap without .close(). Then this code\n      // will throw and return 'false' as expected.\n      //\n      bitmap.close();\n      c = null;\n      return status;\n    });\n  })\n  .catch(() => false);\n};\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","// Split original image into multiple 1024x1024 chunks to reduce memory usage\n// (images have to be unpacked into typed arrays for resizing) and allow\n// parallel processing of multiple tiles at a time.\n//\n\n'use strict';\n\n/*\n * pixelFloor and pixelCeil are modified versions of Math.floor and Math.ceil\n * functions which take into account floating point arithmetic errors.\n * Those errors can cause undesired increments/decrements of sizes and offsets:\n * Math.ceil(36 / (36 / 500)) = 501\n * pixelCeil(36 / (36 / 500)) = 500\n */\n\nvar PIXEL_EPSILON = 1e-5;\n\nfunction pixelFloor(x) {\n  var nearest = Math.round(x);\n\n  if (Math.abs(x - nearest) < PIXEL_EPSILON) { return nearest; }\n  return Math.floor(x);\n}\n\nfunction pixelCeil(x) {\n  var nearest = Math.round(x);\n\n  if (Math.abs(x - nearest) < PIXEL_EPSILON) { return nearest; }\n  return Math.ceil(x);\n}\n\n\nmodule.exports = function createRegions(options) {\n  var scaleX = options.toWidth / options.width;\n  var scaleY = options.toHeight / options.height;\n\n  var innerTileWidth = pixelFloor(options.srcTileSize * scaleX) - 2 * options.destTileBorder;\n  var innerTileHeight = pixelFloor(options.srcTileSize * scaleY) - 2 * options.destTileBorder;\n\n  // prevent infinite loop, this should never happen\n  if (innerTileWidth < 1 || innerTileHeight < 1) {\n    throw new Error('Internal error in pica: target tile width/height is too small.');\n  }\n\n  var x, y;\n  var innerX, innerY, toTileWidth, toTileHeight;\n  var tiles = [];\n  var tile;\n\n  // we go top-to-down instead of left-to-right to make image displayed from top to\n  // doesn in the browser\n  for (innerY = 0; innerY < options.toHeight; innerY += innerTileHeight) {\n    for (innerX = 0; innerX < options.toWidth; innerX += innerTileWidth) {\n      x = innerX - options.destTileBorder;\n      if (x < 0) { x = 0; }\n      toTileWidth = innerX + innerTileWidth + options.destTileBorder - x;\n      if (x + toTileWidth >= options.toWidth) {\n        toTileWidth = options.toWidth - x;\n      }\n\n      y = innerY - options.destTileBorder;\n      if (y < 0) { y = 0; }\n      toTileHeight = innerY + innerTileHeight + options.destTileBorder - y;\n      if (y + toTileHeight >= options.toHeight) {\n        toTileHeight = options.toHeight - y;\n      }\n\n      tile = {\n        toX: x,\n        toY: y,\n        toWidth: toTileWidth,\n        toHeight: toTileHeight,\n\n        toInnerX: innerX,\n        toInnerY: innerY,\n        toInnerWidth: innerTileWidth,\n        toInnerHeight: innerTileHeight,\n\n        offsetX: x / scaleX - pixelFloor(x / scaleX),\n        offsetY: y / scaleY - pixelFloor(y / scaleY),\n        scaleX: scaleX,\n        scaleY: scaleY,\n\n        x: pixelFloor(x / scaleX),\n        y: pixelFloor(y / scaleY),\n        width: pixelCeil(toTileWidth / scaleX),\n        height: pixelCeil(toTileHeight / scaleY)\n      };\n\n      tiles.push(tile);\n    }\n  }\n\n  return tiles;\n};\n","'use strict';\n\n\nconst assign        = require('object-assign');\nconst webworkify    = require('webworkify');\n\n\nconst MathLib       = require('./lib/mathlib');\nconst Pool          = require('./lib/pool');\nconst utils         = require('./lib/utils');\nconst worker        = require('./lib/worker');\nconst createStages  = require('./lib/stepper');\nconst createRegions = require('./lib/tiler');\n\n\n// Deduplicate pools & limiters with the same configs\n// when user creates multiple pica instances.\nconst singletones = {};\n\n\nlet NEED_SAFARI_FIX = false;\ntry {\n  if (typeof navigator !== 'undefined' && navigator.userAgent) {\n    NEED_SAFARI_FIX = navigator.userAgent.indexOf('Safari') >= 0;\n  }\n} catch (e) {}\n\n\nlet concurrency = 1;\nif (typeof navigator !== 'undefined') {\n  concurrency = Math.min(navigator.hardwareConcurrency || 1, 4);\n}\n\n\nconst DEFAULT_PICA_OPTS = {\n  tile: 1024,\n  concurrency,\n  features: [ 'js', 'wasm', 'ww' ],\n  idle: 2000\n};\n\n\nconst DEFAULT_RESIZE_OPTS = {\n  quality:          3,\n  alpha:            false,\n  unsharpAmount:    0,\n  unsharpRadius:    0.0,\n  unsharpThreshold: 0\n};\n\nlet CAN_NEW_IMAGE_DATA;\nlet CAN_CREATE_IMAGE_BITMAP;\n\n\nfunction workerFabric() {\n  return {\n    value: webworkify(worker),\n    destroy: function () {\n      this.value.terminate();\n\n      if (typeof window !== 'undefined') {\n        let url = window.URL || window.webkitURL || window.mozURL || window.msURL;\n        if (url && url.revokeObjectURL && this.value.objectURL) {\n          url.revokeObjectURL(this.value.objectURL);\n        }\n      }\n    }\n  };\n}\n\n\n////////////////////////////////////////////////////////////////////////////////\n// API methods\n\nfunction Pica(options) {\n  if (!(this instanceof Pica)) return new Pica(options);\n\n  this.options = assign({}, DEFAULT_PICA_OPTS, options || {});\n\n  let limiter_key = `lk_${this.options.concurrency}`;\n\n  // Share limiters to avoid multiple parallel workers when user creates\n  // multiple pica instances.\n  this.__limit = singletones[limiter_key] || utils.limiter(this.options.concurrency);\n\n  if (!singletones[limiter_key]) singletones[limiter_key] = this.__limit;\n\n  // List of supported features, according to options & browser/node.js\n  this.features = {\n    js:   false, // pure JS implementation, can be disabled for testing\n    wasm: false, // webassembly implementation for heavy functions\n    cib:  false, // resize via createImageBitmap (only FF at this moment)\n    ww:   false  // webworkers\n  };\n\n  this.__workersPool = null;\n\n  // Store requested features for webworkers\n  this.__requested_features = [];\n\n  this.__mathlib = null;\n}\n\n\nPica.prototype.init = function () {\n  if (this.__initPromise) return this.__initPromise;\n\n  // Test if we can create ImageData without canvas and memory copy\n  if (CAN_NEW_IMAGE_DATA !== false && CAN_NEW_IMAGE_DATA !== true) {\n    CAN_NEW_IMAGE_DATA = false;\n    if (typeof ImageData !== 'undefined' && typeof Uint8ClampedArray !== 'undefined') {\n      try {\n        /* eslint-disable no-new */\n        new ImageData(new Uint8ClampedArray(400), 10, 10);\n        CAN_NEW_IMAGE_DATA = true;\n      } catch (__) {}\n    }\n  }\n\n  // ImageBitmap can be effective in 2 places:\n  //\n  // 1. Threaded jpeg unpack (basic)\n  // 2. Built-in resize (blocked due problem in chrome, see issue #89)\n  //\n  // For basic use we also need ImageBitmap wo support .close() method,\n  // see https://developer.mozilla.org/ru/docs/Web/API/ImageBitmap\n\n  if (CAN_CREATE_IMAGE_BITMAP !== false && CAN_CREATE_IMAGE_BITMAP !== true) {\n    CAN_CREATE_IMAGE_BITMAP = false;\n    if (typeof ImageBitmap !== 'undefined') {\n      if (ImageBitmap.prototype && ImageBitmap.prototype.close) {\n        CAN_CREATE_IMAGE_BITMAP = true;\n      } else {\n        this.debug('ImageBitmap does not support .close(), disabled');\n      }\n    }\n  }\n\n\n  let features = this.options.features.slice();\n\n  if (features.indexOf('all') >= 0) {\n    features = [ 'cib', 'wasm', 'js', 'ww' ];\n  }\n\n  this.__requested_features = features;\n\n  this.__mathlib = new MathLib(features);\n\n  // Check WebWorker support if requested\n  if (features.indexOf('ww') >= 0) {\n    if ((typeof window !== 'undefined') && ('Worker' in window)) {\n      // IE <= 11 don't allow to create webworkers from string. We should check it.\n      // https://connect.microsoft.com/IE/feedback/details/801810/web-workers-from-blob-urls-in-ie-10-and-11\n      try {\n        let wkr = require('webworkify')(function () {});\n        wkr.terminate();\n        this.features.ww   = true;\n\n        // pool uniqueness depends on pool config + webworker config\n        let wpool_key = `wp_${JSON.stringify(this.options)}`;\n\n        if (singletones[wpool_key]) {\n          this.__workersPool = singletones[wpool_key];\n        } else {\n          this.__workersPool = new Pool(workerFabric, this.options.idle);\n          singletones[wpool_key] = this.__workersPool;\n        }\n      } catch (__) {}\n    }\n  }\n\n  let initMath = this.__mathlib.init().then(mathlib => {\n    // Copy detected features\n    assign(this.features, mathlib.features);\n  });\n\n  let checkCibResize;\n\n  if (!CAN_CREATE_IMAGE_BITMAP) {\n    checkCibResize = Promise.resolve(false);\n  } else {\n    checkCibResize = utils.cib_support().then(status => {\n      if (this.features.cib && features.indexOf('cib') < 0) {\n        this.debug('createImageBitmap() resize supported, but disabled by config');\n        return;\n      }\n\n      if (features.indexOf('cib') >= 0) this.features.cib = status;\n    });\n  }\n\n  // Init math lib. That's async because can load some\n  this.__initPromise = Promise.all([ initMath, checkCibResize ]).then(() => this);\n\n  return this.__initPromise;\n};\n\n\nPica.prototype.resize = function (from, to, options) {\n  this.debug('Start resize...');\n\n\n  let opts = assign({}, DEFAULT_RESIZE_OPTS);\n\n  if (!isNaN(options)) {\n    opts = assign(opts, { quality: options });\n  } else if (options) {\n    opts = assign(opts, options);\n  }\n\n  opts.toWidth  = to.width;\n  opts.toHeight = to.height;\n  opts.width    = from.naturalWidth || from.width;\n  opts.height   = from.naturalHeight || from.height;\n\n  // Prevent stepper from infinite loop\n  if (to.width === 0 || to.height === 0) {\n    return Promise.reject(new Error(`Invalid output size: ${to.width}x${to.height}`));\n  }\n\n  if (opts.unsharpRadius > 2) opts.unsharpRadius = 2;\n\n  let canceled    = false;\n  let cancelToken = null;\n\n  if (opts.cancelToken) {\n    // Wrap cancelToken to avoid successive resolve & set flag\n    cancelToken = opts.cancelToken.then(\n      data => { canceled = true; throw data; },\n      err  => { canceled = true; throw err; }\n    );\n  }\n\n  let DEST_TILE_BORDER = 3; // Max possible filter window size\n  let destTileBorder = Math.ceil(Math.max(DEST_TILE_BORDER, 2.5 * opts.unsharpRadius|0));\n\n  return this.init().then(() => {\n    if (canceled) return cancelToken;\n\n    // if createImageBitmap supports resize, just do it and return\n    if (this.features.cib) {\n      let toCtx = to.getContext('2d', { alpha: Boolean(opts.alpha) });\n\n      this.debug('Resize via createImageBitmap()');\n\n      return createImageBitmap(from, {\n        resizeWidth:   opts.toWidth,\n        resizeHeight:  opts.toHeight,\n        resizeQuality: utils.cib_quality_name(opts.quality)\n      })\n      .then(imageBitmap => {\n        if (canceled) return cancelToken;\n\n        // if no unsharp - draw directly to output canvas\n        if (!opts.unsharpAmount) {\n          toCtx.drawImage(imageBitmap, 0, 0);\n          imageBitmap.close();\n          toCtx = null;\n\n          this.debug('Finished!');\n\n          return to;\n        }\n\n        this.debug('Unsharp result');\n\n        let tmpCanvas = document.createElement('canvas');\n\n        tmpCanvas.width  = opts.toWidth;\n        tmpCanvas.height = opts.toHeight;\n\n        let tmpCtx = tmpCanvas.getContext('2d', { alpha: Boolean(opts.alpha) });\n\n        tmpCtx.drawImage(imageBitmap, 0, 0);\n        imageBitmap.close();\n\n        let iData = tmpCtx.getImageData(0, 0, opts.toWidth, opts.toHeight);\n\n        this.__mathlib.unsharp(\n          iData.data,\n          opts.toWidth,\n          opts.toHeight,\n          opts.unsharpAmount,\n          opts.unsharpRadius,\n          opts.unsharpThreshold\n        );\n\n        toCtx.putImageData(iData, 0, 0);\n        iData = tmpCtx = tmpCanvas = toCtx = null;\n\n        this.debug('Finished!');\n\n        return to;\n      });\n    }\n\n    //\n    // No easy way, let's resize manually via arrays\n    //\n\n    // Share cache between calls:\n    //\n    // - wasm instance\n    // - wasm memory object\n    //\n    let cache = {};\n\n    // Call resizer in webworker or locally, depending on config\n    const invokeResize = opts => {\n      return Promise.resolve().then(() => {\n        if (!this.features.ww) return this.__mathlib.resizeAndUnsharp(opts, cache);\n\n        return new Promise((resolve, reject) => {\n          let w = this.__workersPool.acquire();\n\n          if (cancelToken) cancelToken.catch(err => reject(err));\n\n          w.value.onmessage = ev => {\n            w.release();\n\n            if (ev.data.err) reject(ev.data.err);\n            else resolve(ev.data.result);\n          };\n\n          w.value.postMessage({\n            opts,\n            features: this.__requested_features,\n            preload: {\n              wasm_nodule: this.__mathlib.__\n            }\n          }, [ opts.src.buffer ]);\n        });\n      });\n    };\n\n\n    const tileAndResize = (from, to, opts) => {\n      let srcCtx;\n      let srcImageBitmap;\n      let toCtx;\n\n      const processTile = (tile => this.__limit(() => {\n        if (canceled) return cancelToken;\n\n        let srcImageData;\n\n        // Extract tile RGBA buffer, depending on input type\n        if (utils.isCanvas(from)) {\n          this.debug('Get tile pixel data');\n\n          // If input is Canvas - extract region data directly\n          srcImageData = srcCtx.getImageData(tile.x, tile.y, tile.width, tile.height);\n        } else {\n          // If input is Image or decoded to ImageBitmap,\n          // draw region to temporary canvas and extract data from it\n          //\n          // Note! Attempt to reuse this canvas causes significant slowdown in chrome\n          //\n          this.debug('Draw tile imageBitmap/image to temporary canvas');\n\n          let tmpCanvas = document.createElement('canvas');\n          tmpCanvas.width  = tile.width;\n          tmpCanvas.height = tile.height;\n\n          let tmpCtx = tmpCanvas.getContext('2d', { alpha: Boolean(opts.alpha) });\n          tmpCtx.globalCompositeOperation = 'copy';\n          tmpCtx.drawImage(srcImageBitmap || from,\n            tile.x, tile.y, tile.width, tile.height,\n            0, 0, tile.width, tile.height);\n\n          this.debug('Get tile pixel data');\n\n          srcImageData = tmpCtx.getImageData(0, 0, tile.width, tile.height);\n          tmpCtx = tmpCanvas = null;\n        }\n\n        let o = {\n          src:              srcImageData.data,\n          width:            tile.width,\n          height:           tile.height,\n          toWidth:          tile.toWidth,\n          toHeight:         tile.toHeight,\n          scaleX:           tile.scaleX,\n          scaleY:           tile.scaleY,\n          offsetX:          tile.offsetX,\n          offsetY:          tile.offsetY,\n          quality:          opts.quality,\n          alpha:            opts.alpha,\n          unsharpAmount:    opts.unsharpAmount,\n          unsharpRadius:    opts.unsharpRadius,\n          unsharpThreshold: opts.unsharpThreshold\n        };\n\n        this.debug('Invoke resize math');\n\n        return Promise.resolve()\n          .then(() => invokeResize(o))\n          .then(result => {\n            if (canceled) return cancelToken;\n\n            srcImageData = null;\n\n            let toImageData;\n\n            this.debug('Convert raw rgba tile result to ImageData');\n\n            if (CAN_NEW_IMAGE_DATA) {\n              // this branch is for modern browsers\n              // If `new ImageData()` & Uint8ClampedArray suported\n              toImageData = new ImageData(new Uint8ClampedArray(result), tile.toWidth, tile.toHeight);\n            } else {\n              // fallback for `node-canvas` and old browsers\n              // (IE11 has ImageData but does not support `new ImageData()`)\n              toImageData = toCtx.createImageData(tile.toWidth, tile.toHeight);\n\n              if (toImageData.data.set) {\n                toImageData.data.set(result);\n              } else {\n                // IE9 don't have `.set()`\n                for (let i = toImageData.data.length - 1; i >= 0; i--) {\n                  toImageData.data[i] = result[i];\n                }\n              }\n            }\n\n            this.debug('Draw tile');\n\n            if (NEED_SAFARI_FIX) {\n              // Safari draws thin white stripes between tiles without this fix\n              toCtx.putImageData(toImageData, tile.toX, tile.toY,\n                tile.toInnerX - tile.toX, tile.toInnerY - tile.toY,\n                tile.toInnerWidth + 1e-5, tile.toInnerHeight + 1e-5);\n            } else {\n              toCtx.putImageData(toImageData, tile.toX, tile.toY,\n                tile.toInnerX - tile.toX, tile.toInnerY - tile.toY,\n                tile.toInnerWidth, tile.toInnerHeight);\n            }\n\n            return null;\n          });\n      }));\n\n\n      // Need to normalize data source first. It can be canvas or image.\n      // If image - try to decode in background if possible\n      return Promise.resolve().then(() => {\n        toCtx = to.getContext('2d', { alpha: Boolean(opts.alpha) });\n\n        if (utils.isCanvas(from)) {\n          srcCtx = from.getContext('2d', { alpha: Boolean(opts.alpha) });\n          return null;\n        }\n\n        if (utils.isImage(from)) {\n          // try do decode image in background for faster next operations\n          if (!CAN_CREATE_IMAGE_BITMAP) return null;\n\n          this.debug('Decode image via createImageBitmap');\n\n          return createImageBitmap(from)\n            .then(imageBitmap => {\n              srcImageBitmap = imageBitmap;\n            });\n        }\n\n        throw new Error('\".from\" should be image or canvas');\n      })\n      .then(() => {\n        if (canceled) return cancelToken;\n\n        this.debug('Calculate tiles');\n\n        //\n        // Here we are with \"normalized\" source,\n        // follow to tiling\n        //\n\n        let regions = createRegions({\n          width:        opts.width,\n          height:       opts.height,\n          srcTileSize:  this.options.tile,\n          toWidth:      opts.toWidth,\n          toHeight:     opts.toHeight,\n          destTileBorder\n        });\n\n        let jobs = regions.map(tile => processTile(tile));\n\n        function cleanup() {\n          if (srcImageBitmap) {\n            srcImageBitmap.close();\n            srcImageBitmap = null;\n          }\n        }\n\n        this.debug('Process tiles');\n\n        return Promise.all(jobs).then(\n          () => {\n            this.debug('Finished!');\n            cleanup(); return to;\n          },\n          err => { cleanup(); throw err; }\n        );\n      });\n    };\n\n\n    const processStages = (stages, from, to, opts) => {\n      if (canceled) return cancelToken;\n\n      let [ toWidth, toHeight ] = stages.shift();\n\n      let isLastStage = (stages.length === 0);\n\n      opts = assign({}, opts, {\n        toWidth,\n        toHeight,\n        // only use user-defined quality for the last stage,\n        // use simpler (Hamming) filter for the first stages where\n        // scale factor is large enough (more than 2-3)\n        quality: isLastStage ? opts.quality : Math.min(1, opts.quality)\n      });\n\n      let tmpCanvas;\n\n      if (!isLastStage) {\n        // create temporary canvas\n        tmpCanvas = document.createElement('canvas');\n        tmpCanvas.width  = toWidth;\n        tmpCanvas.height = toHeight;\n      }\n\n      return tileAndResize(from, (isLastStage ? to : tmpCanvas), opts).then(() => {\n        if (isLastStage) return to;\n\n        opts.width = toWidth;\n        opts.height = toHeight;\n        return processStages(stages, tmpCanvas, to, opts);\n      });\n    };\n\n\n    let stages = createStages(\n      opts.width,\n      opts.height,\n      opts.toWidth,\n      opts.toHeight,\n      this.options.tile,\n      destTileBorder\n    );\n\n    return processStages(stages, from, to, opts);\n  });\n};\n\n// RGBA buffer resize\n//\nPica.prototype.resizeBuffer = function (options) {\n  const opts = assign({}, DEFAULT_RESIZE_OPTS, options);\n\n  return this.init()\n    .then(() => this.__mathlib.resizeAndUnsharp(opts));\n};\n\n\nPica.prototype.toBlob = function (canvas, mimeType, quality) {\n  mimeType = mimeType || 'image/png';\n\n  return new Promise(resolve => {\n    if (canvas.toBlob) {\n      canvas.toBlob(blob => resolve(blob), mimeType, quality);\n      return;\n    }\n\n    // Fallback for old browsers\n    const asString = atob(canvas.toDataURL(mimeType, quality).split(',')[1]);\n    const len      = asString.length;\n    const asBuffer = new Uint8Array(len);\n\n    for (let i = 0; i < len; i++) {\n      asBuffer[i] = asString.charCodeAt(i);\n    }\n\n    resolve(new Blob([ asBuffer ], { type: mimeType }));\n  });\n};\n\n\nPica.prototype.debug = function () {};\n\n\nmodule.exports = Pica;\n","// Calculates 16-bit precision HSL lightness from 8-bit rgba buffer\n//\n'use strict';\n\n\nmodule.exports = function hsl_l16_js(img, width, height) {\n  var size = width * height;\n  var out = new Uint16Array(size);\n  var r, g, b, min, max;\n  for (var i = 0; i < size; i++) {\n    r = img[4 * i];\n    g = img[4 * i + 1];\n    b = img[4 * i + 2];\n    max = (r >= g && r >= b) ? r : (g >= b && g >= r) ? g : b;\n    min = (r <= g && r <= b) ? r : (g <= b && g <= r) ? g : b;\n    out[i] = (max + min) * 257 >> 1;\n  }\n  return out;\n};\n","var core = module.exports = { version: '2.6.5' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = require(\"core-js/library/fn/parse-float\");","'use strict';\n\n\nconst GC_INTERVAL = 100;\n\n\nfunction Pool(create, idle) {\n  this.create = create;\n\n  this.available = [];\n  this.acquired = {};\n  this.lastId = 1;\n\n  this.timeoutId = 0;\n  this.idle = idle || 2000;\n}\n\n\nPool.prototype.acquire = function () {\n  let resource;\n\n  if (this.available.length !== 0) {\n    resource = this.available.pop();\n  } else {\n    resource = this.create();\n    resource.id = this.lastId++;\n    resource.release = () => this.release(resource);\n  }\n  this.acquired[resource.id] = resource;\n  return resource;\n};\n\n\nPool.prototype.release = function (resource) {\n  delete this.acquired[resource.id];\n\n  resource.lastUsed = Date.now();\n  this.available.push(resource);\n\n  if (this.timeoutId === 0) {\n    this.timeoutId = setTimeout(() => this.gc(), GC_INTERVAL);\n  }\n};\n\n\nPool.prototype.gc = function () {\n  const now = Date.now();\n\n  this.available = this.available.filter(resource => {\n    if (now - resource.lastUsed > this.idle) {\n      resource.destroy();\n      return false;\n    }\n    return true;\n  });\n\n  if (this.available.length !== 0) {\n    this.timeoutId = setTimeout(() => this.gc(), GC_INTERVAL);\n  } else {\n    this.timeoutId = 0;\n  }\n};\n\n\nmodule.exports = Pool;\n","// Calculate Gaussian blur of an image using IIR filter\n// The method is taken from Intel's white paper and code example attached to it:\n// https://software.intel.com/en-us/articles/iir-gaussian-blur-filter\n// -implementation-using-intel-advanced-vector-extensions\n\nvar a0, a1, a2, a3, b1, b2, left_corner, right_corner;\n\nfunction gaussCoef(sigma) {\n  if (sigma < 0.5) {\n    sigma = 0.5;\n  }\n\n  var a = Math.exp(0.726 * 0.726) / sigma,\n      g1 = Math.exp(-a),\n      g2 = Math.exp(-2 * a),\n      k = (1 - g1) * (1 - g1) / (1 + 2 * a * g1 - g2);\n\n  a0 = k;\n  a1 = k * (a - 1) * g1;\n  a2 = k * (a + 1) * g1;\n  a3 = -k * g2;\n  b1 = 2 * g1;\n  b2 = -g2;\n  left_corner = (a0 + a1) / (1 - b1 - b2);\n  right_corner = (a2 + a3) / (1 - b1 - b2);\n\n  // Attempt to force type to FP32.\n  return new Float32Array([ a0, a1, a2, a3, b1, b2, left_corner, right_corner ]);\n}\n\nfunction convolveMono16(src, out, line, coeff, width, height) {\n  // takes src image and writes the blurred and transposed result into out\n\n  var prev_src, curr_src, curr_out, prev_out, prev_prev_out;\n  var src_index, out_index, line_index;\n  var i, j;\n  var coeff_a0, coeff_a1, coeff_b1, coeff_b2;\n\n  for (i = 0; i < height; i++) {\n    src_index = i * width;\n    out_index = i;\n    line_index = 0;\n\n    // left to right\n    prev_src = src[src_index];\n    prev_prev_out = prev_src * coeff[6];\n    prev_out = prev_prev_out;\n\n    coeff_a0 = coeff[0];\n    coeff_a1 = coeff[1];\n    coeff_b1 = coeff[4];\n    coeff_b2 = coeff[5];\n\n    for (j = 0; j < width; j++) {\n      curr_src = src[src_index];\n\n      curr_out = curr_src * coeff_a0 +\n                 prev_src * coeff_a1 +\n                 prev_out * coeff_b1 +\n                 prev_prev_out * coeff_b2;\n\n      prev_prev_out = prev_out;\n      prev_out = curr_out;\n      prev_src = curr_src;\n\n      line[line_index] = prev_out;\n      line_index++;\n      src_index++;\n    }\n\n    src_index--;\n    line_index--;\n    out_index += height * (width - 1);\n\n    // right to left\n    prev_src = src[src_index];\n    prev_prev_out = prev_src * coeff[7];\n    prev_out = prev_prev_out;\n    curr_src = prev_src;\n\n    coeff_a0 = coeff[2];\n    coeff_a1 = coeff[3];\n\n    for (j = width - 1; j >= 0; j--) {\n      curr_out = curr_src * coeff_a0 +\n                 prev_src * coeff_a1 +\n                 prev_out * coeff_b1 +\n                 prev_prev_out * coeff_b2;\n\n      prev_prev_out = prev_out;\n      prev_out = curr_out;\n\n      prev_src = curr_src;\n      curr_src = src[src_index];\n\n      out[out_index] = line[line_index] + prev_out;\n\n      src_index--;\n      line_index--;\n      out_index -= height;\n    }\n  }\n}\n\n\nfunction blurMono16(src, width, height, radius) {\n  // Quick exit on zero radius\n  if (!radius) { return; }\n\n  var out      = new Uint16Array(src.length),\n      tmp_line = new Float32Array(Math.max(width, height));\n\n  var coeff = gaussCoef(radius);\n\n  convolveMono16(src, out, tmp_line, coeff, width, height, radius);\n  convolveMono16(out, src, tmp_line, coeff, height, width, radius);\n}\n\nmodule.exports = blurMono16;\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","'use strict';\n\nmodule.exports = {\n  name:     'unsharp_mask',\n  fn:       require('./unsharp_mask'),\n  wasm_fn:  require('./unsharp_mask_wasm'),\n  wasm_src: require('./unsharp_mask_wasm_base64')\n};\n","'use strict';\n\n\nconst createFilters = require('./resize_filter_gen');\n\n\nfunction resetAlpha(dst, width, height) {\n  let ptr = 3, len = (width * height * 4)|0;\n  while (ptr < len) { dst[ptr] = 0xFF; ptr = (ptr + 4)|0; }\n}\n\n\nfunction asUint8Array(src) {\n  return new Uint8Array(src.buffer, 0, src.byteLength);\n}\n\n\nlet IS_LE = true;\n// should not crash everything on module load in old browsers\ntry {\n  IS_LE = ((new Uint32Array((new Uint8Array([ 1, 0, 0, 0 ])).buffer))[0] === 1);\n} catch (__) {}\n\n\nfunction copyInt16asLE(src, target, target_offset) {\n  if (IS_LE) {\n    target.set(asUint8Array(src), target_offset);\n    return;\n  }\n\n  for (let ptr = target_offset, i = 0; i < src.length; i++) {\n    let data = src[i];\n    target[ptr++] = data & 0xFF;\n    target[ptr++] = (data >> 8) & 0xFF;\n  }\n}\n\nmodule.exports = function resize_wasm(options) {\n  const src     = options.src;\n  const srcW    = options.width;\n  const srcH    = options.height;\n  const destW   = options.toWidth;\n  const destH   = options.toHeight;\n  const scaleX  = options.scaleX || options.toWidth / options.width;\n  const scaleY  = options.scaleY || options.toHeight / options.height;\n  const offsetX = options.offsetX || 0.0;\n  const offsetY = options.offsetY || 0.0;\n  const dest    = options.dest || new Uint8Array(destW * destH * 4);\n  const quality = typeof options.quality === 'undefined' ? 3 : options.quality;\n  const alpha   = options.alpha || false;\n\n  const filtersX = createFilters(quality, srcW, destW, scaleX, offsetX),\n        filtersY = createFilters(quality, srcH, destH, scaleY, offsetY);\n\n  // destination is 0 too.\n  const src_offset      = 0;\n  // buffer between convolve passes\n  const tmp_offset      = this.__align(src_offset + Math.max(src.byteLength, dest.byteLength));\n  const filtersX_offset = this.__align(tmp_offset + srcH * destW * 4);\n  const filtersY_offset = this.__align(filtersX_offset + filtersX.byteLength);\n  const alloc_bytes     = filtersY_offset + filtersY.byteLength;\n\n  const instance = this.__instance('resize', alloc_bytes);\n\n  //\n  // Fill memory block with data to process\n  //\n\n  const mem   = new Uint8Array(this.__memory.buffer);\n  const mem32 = new Uint32Array(this.__memory.buffer);\n\n  // 32-bit copy is much faster in chrome\n  const src32 = new Uint32Array(src.buffer);\n  mem32.set(src32);\n\n  // We should guarantee LE bytes order. Filters are not big, so\n  // speed difference is not significant vs direct .set()\n  copyInt16asLE(filtersX, mem, filtersX_offset);\n  copyInt16asLE(filtersY, mem, filtersY_offset);\n\n  //\n  // Now call webassembly method\n  // emsdk does method names with '_'\n  const fn = instance.exports.convolveHV || instance.exports._convolveHV;\n\n  fn(filtersX_offset, filtersY_offset, tmp_offset, srcW, srcH, destW, destH);\n\n  //\n  // Copy data back to typed array\n  //\n\n  // 32-bit copy is much faster in chrome\n  const dest32 = new Uint32Array(dest.buffer);\n  dest32.set(new Uint32Array(this.__memory.buffer, 0, destH * destW));\n\n  // That's faster than doing checks in convolver.\n  // !!! Note, canvas data is not premultipled. We don't need other\n  // alpha corrections.\n\n  if (!alpha) resetAlpha(dest, destW, destH);\n\n  return dest;\n};\n","'use strict';\n\n\nconst createFilters        = require('./resize_filter_gen');\nconst convolveHorizontally = require('./convolve').convolveHorizontally;\nconst convolveVertically   = require('./convolve').convolveVertically;\n\n\nfunction resetAlpha(dst, width, height) {\n  let ptr = 3, len = (width * height * 4)|0;\n  while (ptr < len) { dst[ptr] = 0xFF; ptr = (ptr + 4)|0; }\n}\n\n\nmodule.exports = function resize(options) {\n  const src   = options.src;\n  const srcW  = options.width;\n  const srcH  = options.height;\n  const destW = options.toWidth;\n  const destH = options.toHeight;\n  const scaleX = options.scaleX || options.toWidth / options.width;\n  const scaleY = options.scaleY || options.toHeight / options.height;\n  const offsetX = options.offsetX || 0;\n  const offsetY = options.offsetY || 0;\n  const dest  = options.dest || new Uint8Array(destW * destH * 4);\n  const quality = typeof options.quality === 'undefined' ? 3 : options.quality;\n  const alpha = options.alpha || false;\n\n  const filtersX = createFilters(quality, srcW, destW, scaleX, offsetX),\n        filtersY = createFilters(quality, srcH, destH, scaleY, offsetY);\n\n  const tmp  = new Uint8Array(destW * srcH * 4);\n\n  // To use single function we need src & tmp of the same type.\n  // But src can be CanvasPixelArray, and tmp - Uint8Array. So, keep\n  // vertical and horizontal passes separately to avoid deoptimization.\n\n  convolveHorizontally(src, tmp, srcW, srcH, destW, filtersX);\n  convolveVertically(tmp, dest, srcH, destW, destH, filtersY);\n\n  // That's faster than doing checks in convolver.\n  // !!! Note, canvas data is not premultipled. We don't need other\n  // alpha corrections.\n\n  if (!alpha) resetAlpha(dest, destW, destH);\n\n  return dest;\n};\n","'use strict';\n\nmodule.exports = {\n  name:     'resize',\n  fn:       require('./resize'),\n  wasm_fn:  require('./resize_wasm'),\n  wasm_src: require('./convolve_wasm_base64')\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","require('../modules/es6.parse-float');\nmodule.exports = require('../modules/_core').parseFloat;\n","// Web Worker wrapper for image resize function\n\n'use strict';\n\nmodule.exports = function () {\n  const MathLib = require('./mathlib');\n\n  let mathLib;\n\n  /* eslint-disable no-undef */\n  onmessage = function (ev) {\n    let opts = ev.data.opts;\n\n    if (!mathLib) mathLib = new MathLib(ev.data.features);\n\n    // Use multimath's sync auto-init. Avoid Promise use in old browsers,\n    // because polyfills are not propagated to webworker.\n    let result = mathLib.resizeAndUnsharp(opts);\n\n    postMessage({ result }, [ result.buffer ]);\n  };\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","// base64 decode str -> Uint8Array, to load WA modules\n//\n'use strict';\n\n\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n\nmodule.exports = function base64decode(str) {\n  var input = str.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max   = input.length;\n\n  var out = new Uint8Array((max * 3) >> 2);\n\n  // Collect by 6*4 bits (3 bytes)\n\n  var bits = 0;\n  var ptr  = 0;\n\n  for (var idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      out[ptr++] = (bits >> 16) & 0xFF;\n      out[ptr++] = (bits >> 8) & 0xFF;\n      out[ptr++] = bits & 0xFF;\n    }\n\n    bits = (bits << 6) | BASE64_MAP.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  var tailbits = (max % 4) * 6;\n\n  if (tailbits === 0) {\n    out[ptr++] = (bits >> 16) & 0xFF;\n    out[ptr++] = (bits >> 8) & 0xFF;\n    out[ptr++] = bits & 0xFF;\n  } else if (tailbits === 18) {\n    out[ptr++] = (bits >> 10) & 0xFF;\n    out[ptr++] = (bits >> 2) & 0xFF;\n  } else if (tailbits === 12) {\n    out[ptr++] = (bits >> 4) & 0xFF;\n  }\n\n  return out;\n};\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","'use strict';\n\n\nvar assign         = require('object-assign');\nvar base64decode   = require('./lib/base64decode');\nvar hasWebAssembly = require('./lib/wa_detect');\n\n\nvar DEFAULT_OPTIONS = {\n  js: true,\n  wasm: true\n};\n\n\nfunction MultiMath(options) {\n  if (!(this instanceof MultiMath)) return new MultiMath(options);\n\n  var opts = assign({}, DEFAULT_OPTIONS, options || {});\n\n  this.options         = opts;\n\n  this.__cache         = {};\n  this.has_wasm        = hasWebAssembly();\n\n  this.__init_promise  = null;\n  this.__modules       = opts.modules || {};\n  this.__memory        = null;\n  this.__wasm          = {};\n\n  this.__isLE = ((new Uint32Array((new Uint8Array([ 1, 0, 0, 0 ])).buffer))[0] === 1);\n\n  if (!this.options.js && !this.options.wasm) {\n    throw new Error('mathlib: at least \"js\" or \"wasm\" should be enabled');\n  }\n}\n\n\nMultiMath.prototype.use = function (module) {\n  this.__modules[module.name] = module;\n\n  // Pin the best possible implementation\n  if (!this.has_wasm || !this.options.wasm || !module.wasm_fn) {\n    this[module.name] = module.fn;\n  } else {\n    this[module.name] = module.wasm_fn;\n  }\n\n  return this;\n};\n\n\nMultiMath.prototype.init = function () {\n  if (this.__init_promise) return this.__init_promise;\n\n  if (!this.options.js && this.options.wasm && !this.has_wasm) {\n    return Promise.reject(new Error('mathlib: only \"wasm\" was enabled, but it\\'s not supported'));\n  }\n\n  var self = this;\n\n  this.__init_promise = Promise.all(Object.keys(self.__modules).map(function (name) {\n    var module = self.__modules[name];\n\n    if (!self.has_wasm || !self.options.wasm || !module.wasm_fn) return null;\n\n    // If already compiled - exit\n    if (self.__wasm[name]) return null;\n\n    // Compile wasm source\n    return WebAssembly.compile(self.__base64decode(module.wasm_src))\n      .then(function (m) { self.__wasm[name] = m; });\n  }))\n    .then(function () { return self; });\n\n  return this.__init_promise;\n};\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Methods below are for internal use from plugins\n\n\n// Simple decode base64 to typed array. Useful to load embedded webassembly\n// code. You probably don't need to call this method directly.\n//\nMultiMath.prototype.__base64decode = base64decode;\n\n\n// Increase current memory to include specified number of bytes. Do nothing if\n// size is already ok. You probably don't need to call this method directly,\n// because it will be invoked from `.__instance()`.\n//\nMultiMath.prototype.__reallocate = function mem_grow_to(bytes) {\n  if (!this.__memory) {\n    this.__memory = new WebAssembly.Memory({\n      initial: Math.ceil(bytes / (64 * 1024))\n    });\n    return this.__memory;\n  }\n\n  var mem_size = this.__memory.buffer.byteLength;\n\n  if (mem_size < bytes) {\n    this.__memory.grow(Math.ceil((bytes - mem_size) / (64 * 1024)));\n  }\n\n  return this.__memory;\n};\n\n\n// Returns instantinated webassembly item by name, with specified memory size\n// and environment.\n// - use cache if available\n// - do sync module init, if async init was not called earlier\n// - allocate memory if not enougth\n// - can export functions to webassembly via \"env_extra\",\n//   for example, { exp: Math.exp }\n//\nMultiMath.prototype.__instance = function instance(name, memsize, env_extra) {\n  if (memsize) this.__reallocate(memsize);\n\n  // If .init() was not called, do sync compile\n  if (!this.__wasm[name]) {\n    var module = this.__modules[name];\n    this.__wasm[name] = new WebAssembly.Module(this.__base64decode(module.wasm_src));\n  }\n\n  if (!this.__cache[name]) {\n    var env_base = {\n      memoryBase: 0,\n      memory: this.__memory,\n      tableBase: 0,\n      table: new WebAssembly.Table({ initial: 0, element: 'anyfunc' })\n    };\n\n    this.__cache[name] = new WebAssembly.Instance(this.__wasm[name], {\n      env: assign(env_base, env_extra || {})\n    });\n  }\n\n  return this.__cache[name];\n};\n\n\n// Helper to calculate memory aligh for pointers. Webassembly does not require\n// this, but you may wish to experiment. Default base = 8;\n//\nMultiMath.prototype.__align = function align(number, base) {\n  base = base || 8;\n  var reminder = number % base;\n  return number + (reminder ? base - reminder : 0);\n};\n\n\nmodule.exports = MultiMath;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"image-resizer\"},[_c('input',{attrs:{\"type\":\"file\",\"id\":\"image\",\"accept\":\"image/*\",\"disabled\":_vm.loading,\"name\":\"image\"},on:{\"change\":_vm.changeImage}}),(_vm.image)?_c('section',{staticClass:\"image-resizer__resizer\"},[_c('section',{staticClass:\"image-resizer__original-details\"},[_c('label',{attrs:{\"for\":\"originalSize\"}},[_vm._v(\"Original size: \")]),_c('output',{attrs:{\"for\":\"image\",\"name\":\"originalSize\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.original.size)+\"\\n      \")]),_c('label',{attrs:{\"for\":\"originalDimension\"}},[_vm._v(\"Original dimension: \")]),_c('output',{attrs:{\"for\":\"image\",\"name\":\"originalDimension\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.original.dimension)+\"\\n      \")])]),_c('section',{staticClass:\"image-resizer__new-details\"},[_c('label',{attrs:{\"for\":\"newDimension\"}},[_vm._v(\"New dimension: \")]),_c('output',{attrs:{\"for\":\"image\",\"name\":\"newDimension\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.newDimension)+\"\\n      \")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reducePercent),expression:\"reducePercent\"}],attrs:{\"type\":\"range\",\"id\":\"reducePercent\",\"name\":\"reducePercent\",\"min\":\"0\",\"max\":\"90\"},domProps:{\"value\":(_vm.reducePercent)},on:{\"change\":_vm.updateNewDimensions,\"input\":_vm.updateNewDimensions,\"__r\":function($event){_vm.reducePercent=$event.target.value}}}),_c('button',{on:{\"click\":_vm.reduceIt}},[_vm._v(\"Reduce it!\")]),_c('a',{ref:\"downloadLink\",staticClass:\"image-resizer__download\",attrs:{\"href\":\"#\"}},[_vm._v(\"Download it!\")]),_c('canvas',{ref:\"canvas\",staticClass:\"image-resizer__result\",attrs:{\"width\":_vm.newFile.width,\"height\":_vm.newFile.height}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"image-resizer\">\n    <input type=\"file\"\n           id=\"image\"\n           @change=\"changeImage\"\n           accept=\"image/*\"\n           :disabled=\"loading\"\n           name=\"image\"/>\n    <section\n      v-if=\"image\"\n      class=\"image-resizer__resizer\">\n      <section class=\"image-resizer__original-details\">\n        <label for=\"originalSize\">Original size: </label>\n        <output for=\"image\" name=\"originalSize\">\n          {{ original.size }}\n        </output>\n\n        <label for=\"originalDimension\">Original dimension: </label>\n        <output for=\"image\" name=\"originalDimension\">\n          {{ original.dimension }}\n        </output>\n      </section>\n      <section class=\"image-resizer__new-details\">\n        <label for=\"newDimension\">New dimension: </label>\n        <output for=\"image\" name=\"newDimension\">\n          {{ newDimension }}\n        </output>\n      </section>\n      <input\n        type=\"range\"\n        id=\"reducePercent\"\n        name=\"reducePercent\"\n        min=\"0\" max=\"90\"\n        v-model=\"reducePercent\"\n        v-on:change=\"updateNewDimensions\"\n        v-on:input=\"updateNewDimensions\"\n        />\n      <button v-on:click=\"reduceIt\">Reduce it!</button>\n      <a class=\"image-resizer__download\" ref=\"downloadLink\" href=\"#\">Download it!</a>\n      <canvas\n        class=\"image-resizer__result\"\n        ref=\"canvas\"\n        :width=\"newFile.width\"\n        :height=\"newFile.height\"\n        ></canvas>\n    </section>\n  </div>\n</template>\n\n<script>\nimport Pica from 'pica';\nimport { saveAs } from 'file-saver';\n\nconst pica = Pica();\n\nfunction formatBytes(bytes, decimals) {\n  // https://stackoverflow.com/a/18650828\n  if (bytes === 0) return '0 Bytes';\n  const k = 1024;\n  const dm = decimals <= 0 ? 0 : decimals || 2;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return `${parseFloat((bytes / (k ** i)).toFixed(dm))} ${sizes[i]}`;\n}\n\nexport default {\n  name: 'ImageResizer',\n  data() {\n    return {\n      original: {\n        size: '',\n        dimension: '',\n        type: '',\n        name: '',\n      },\n      newFile: {\n        width: '0',\n        height: '0',\n      },\n      loading: false,\n      image: null,\n      reducePercent: 90,\n    };\n  },\n  computed: {\n    newDimension() {\n      return `${this.reducePercent}% ${this.newFile.width}x${this.newFile.height}`;\n    },\n  },\n  methods: {\n    updateNewDimensions() {\n      const percent = this.reducePercent;\n      const { width, height } = this.image;\n      const newWidth = Math.ceil(width - (width * (percent / 100)));\n      const newHeight = Math.ceil(height - (height * (percent / 100)));\n\n      this.newFile.width = newWidth;\n      this.newFile.height = newHeight;\n    },\n    reduceIt() {\n      pica\n        .resize(this.image, this.$refs.canvas, {\n          unsharpAmount: 80,\n          unsharpRadius: 0.6,\n          unsharpThreshold: 2,\n        })\n        .then(result => pica.toBlob(result, this.original.type))\n        .then((result) => {\n          saveAs(result, this.original.name);\n        });\n    },\n\n    changeImage({ target }) {\n      const file = target.files[0];\n      const size = formatBytes(file.size);\n\n      this.original.name = file.name;\n      this.original.type = file.type;\n      this.original.size = size;\n      this.loading = true;\n      const reader = new FileReader();\n\n      reader.onload = (event) => {\n        const img = new Image();\n        img.onload = () => {\n          const dimension = `${img.width}x${img.height}`;\n          this.original.dimension = dimension;\n          this.image = img;\n          this.loading = false;\n          this.updateNewDimensions();\n        };\n        img.src = event.target.result;\n      };\n\n      reader.readAsDataURL(file);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.image-resizer {\n  width: 100%;\n}\n\n.image-resizer__resizer {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n\n.image-resizer__download {\n  display: none;\n}\n\n.image-resizer__result {\n  display: none;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageResizer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageResizer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageResizer.vue?vue&type=template&id=1e654a45&scoped=true&\"\nimport script from \"./ImageResizer.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageResizer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageResizer.vue?vue&type=style&index=0&id=1e654a45&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e654a45\",\n  null\n  \n)\n\nexport default component.exports","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\n\n\nmodule.exports = function unsharp(img, width, height, amount, radius, threshold) {\n  if (amount === 0 || radius < 0.5) {\n    return;\n  }\n\n  if (radius > 2.0) {\n    radius = 2.0;\n  }\n\n  var pixels = width * height;\n\n  var img_bytes_cnt        = pixels * 4;\n  var hsl_bytes_cnt        = pixels * 2;\n  var blur_bytes_cnt       = pixels * 2;\n  var blur_line_byte_cnt   = Math.max(width, height) * 4; // float32 array\n  var blur_coeffs_byte_cnt = 8 * 4; // float32 array\n\n  var img_offset         = 0;\n  var hsl_offset         = img_bytes_cnt;\n  var blur_offset        = hsl_offset + hsl_bytes_cnt;\n  var blur_tmp_offset    = blur_offset + blur_bytes_cnt;\n  var blur_line_offset   = blur_tmp_offset + blur_bytes_cnt;\n  var blur_coeffs_offset = blur_line_offset + blur_line_byte_cnt;\n\n  var instance = this.__instance(\n    'unsharp_mask',\n    img_bytes_cnt + hsl_bytes_cnt + blur_bytes_cnt * 2 + blur_line_byte_cnt + blur_coeffs_byte_cnt,\n    { exp: Math.exp }\n  );\n\n  // 32-bit copy is much faster in chrome\n  var img32 = new Uint32Array(img.buffer);\n  var mem32 = new Uint32Array(this.__memory.buffer);\n  mem32.set(img32);\n\n  // HSL\n  var fn = instance.exports.hsl_l16 || instance.exports._hsl_l16;\n  fn(img_offset, hsl_offset, width, height);\n\n  // BLUR\n  fn = instance.exports.blurMono16 || instance.exports._blurMono16;\n  fn(hsl_offset, blur_offset, blur_tmp_offset,\n    blur_line_offset, blur_coeffs_offset, width, height, radius);\n\n  // UNSHARP\n  fn = instance.exports.unsharp || instance.exports._unsharp;\n  fn(img_offset, img_offset, hsl_offset,\n    blur_offset, width, height, amount, threshold);\n\n  // 32-bit copy is much faster in chrome\n  img32.set(new Uint32Array(this.__memory.buffer, 0, pixels));\n};\n","// This is autogenerated file from math.wasm, don't edit.\n//\n'use strict';\n\n/* eslint-disable max-len */\nmodule.exports = 'AGFzbQEAAAABFAJgBn9/f39/fwBgB39/f39/f38AAg8BA2VudgZtZW1vcnkCAAEDAwIAAQQEAXAAAAcZAghjb252b2x2ZQAACmNvbnZvbHZlSFYAAQkBAArmAwLBAwEQfwJAIANFDQAgBEUNACAFQQRqIRVBACEMQQAhDQNAIA0hDkEAIRFBACEHA0AgB0ECaiESAn8gBSAHQQF0IgdqIgZBAmouAQAiEwRAQQAhCEEAIBNrIRQgFSAHaiEPIAAgDCAGLgEAakECdGohEEEAIQlBACEKQQAhCwNAIBAoAgAiB0EYdiAPLgEAIgZsIAtqIQsgB0H/AXEgBmwgCGohCCAHQRB2Qf8BcSAGbCAKaiEKIAdBCHZB/wFxIAZsIAlqIQkgD0ECaiEPIBBBBGohECAUQQFqIhQNAAsgEiATagwBC0EAIQtBACEKQQAhCUEAIQggEgshByABIA5BAnRqIApBgMAAakEOdSIGQf8BIAZB/wFIG0EQdEGAgPwHcUEAIAZBAEobIAtBgMAAakEOdSIGQf8BIAZB/wFIG0EYdEEAIAZBAEobciAJQYDAAGpBDnUiBkH/ASAGQf8BSBtBCHRBgP4DcUEAIAZBAEobciAIQYDAAGpBDnUiBkH/ASAGQf8BSBtB/wFxQQAgBkEAShtyNgIAIA4gA2ohDiARQQFqIhEgBEcNAAsgDCACaiEMIA1BAWoiDSADRw0ACwsLIQACQEEAIAIgAyAEIAUgABAAIAJBACAEIAUgBiABEAALCw==';\n","var bundleFn = arguments[3];\nvar sources = arguments[4];\nvar cache = arguments[5];\n\nvar stringify = JSON.stringify;\n\nmodule.exports = function (fn, options) {\n    var wkey;\n    var cacheKeys = Object.keys(cache);\n\n    for (var i = 0, l = cacheKeys.length; i < l; i++) {\n        var key = cacheKeys[i];\n        var exp = cache[key].exports;\n        // Using babel as a transpiler to use esmodule, the export will always\n        // be an object with the default export as a property of it. To ensure\n        // the existing api and babel esmodule exports are both supported we\n        // check for both\n        if (exp === fn || exp && exp.default === fn) {\n            wkey = key;\n            break;\n        }\n    }\n\n    if (!wkey) {\n        wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n        var wcache = {};\n        for (var i = 0, l = cacheKeys.length; i < l; i++) {\n            var key = cacheKeys[i];\n            wcache[key] = key;\n        }\n        sources[wkey] = [\n            'function(require,module,exports){' + fn + '(self); }',\n            wcache\n        ];\n    }\n    var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n\n    var scache = {}; scache[wkey] = wkey;\n    sources[skey] = [\n        'function(require,module,exports){' +\n            // try to call default if defined to also support babel esmodule exports\n            'var f = require(' + stringify(wkey) + ');' +\n            '(f.default ? f.default : f)(self);' +\n        '}',\n        scache\n    ];\n\n    var workerSources = {};\n    resolveSources(skey);\n\n    function resolveSources(key) {\n        workerSources[key] = true;\n\n        for (var depPath in sources[key][1]) {\n            var depKey = sources[key][1][depPath];\n            if (!workerSources[depKey]) {\n                resolveSources(depKey);\n            }\n        }\n    }\n\n    var src = '(' + bundleFn + ')({'\n        + Object.keys(workerSources).map(function (key) {\n            return stringify(key) + ':['\n                + sources[key][0]\n                + ',' + stringify(sources[key][1]) + ']'\n            ;\n        }).join(',')\n        + '},{},[' + stringify(skey) + '])'\n    ;\n\n    var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n    var blob = new Blob([src], { type: 'text/javascript' });\n    if (options && options.bare) { return blob; }\n    var workerUrl = URL.createObjectURL(blob);\n    var worker = new Worker(workerUrl);\n    worker.objectURL = workerUrl;\n    return worker;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","// Collection of math functions\n//\n// 1. Combine components together\n// 2. Has async init to load wasm modules\n//\n'use strict';\n\n\nconst inherits  = require('inherits');\nconst Multimath = require('multimath');\n\nconst mm_unsharp_mask = require('multimath/lib/unsharp_mask');\nconst mm_resize       = require('./mm_resize');\n\n\nfunction MathLib(requested_features) {\n  const __requested_features = requested_features || [];\n\n  let features = {\n    js:   __requested_features.indexOf('js') >= 0,\n    wasm: __requested_features.indexOf('wasm') >= 0\n  };\n\n  Multimath.call(this, features);\n\n  this.features = {\n    js:   features.js,\n    wasm: features.wasm && this.has_wasm\n  };\n\n  this.use(mm_unsharp_mask);\n  this.use(mm_resize);\n}\n\n\ninherits(MathLib, Multimath);\n\n\nMathLib.prototype.resizeAndUnsharp = function resizeAndUnsharp(options, cache) {\n  let result = this.resize(options, cache);\n\n  if (options.unsharpAmount) {\n    this.unsharp_mask(\n      result,\n      options.toWidth,\n      options.toHeight,\n      options.unsharpAmount,\n      options.unsharpRadius,\n      options.unsharpThreshold\n    );\n  }\n\n  return result;\n};\n\n\nmodule.exports = MathLib;\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","// Add intermediate resizing steps when scaling down by a very large factor.\n//\n// For example, when resizing 10000x10000 down to 10x10, it'll resize it to\n// 300x300 first.\n//\n// It's needed because tiler has issues when the entire tile is scaled down\n// to a few pixels (1024px source tile with border size 3 should result in\n// at least 3+3+2 = 8px target tile, so max scale factor is 128 here).\n//\n// Also, adding intermediate steps can speed up processing if we use lower\n// quality algorithms for first stages.\n//\n\n'use strict';\n\n\n// min size = 0 results in infinite loop,\n// min size = 1 can consume large amount of memory\nconst MIN_INNER_TILE_SIZE = 2;\n\n\nmodule.exports = function createStages(fromWidth, fromHeight, toWidth, toHeight, srcTileSize, destTileBorder) {\n  let scaleX = toWidth / fromWidth;\n  let scaleY = toHeight / fromHeight;\n\n  // derived from createRegions equation:\n  // innerTileWidth = pixelFloor(srcTileSize * scaleX) - 2 * destTileBorder;\n  let minScale = (2 * destTileBorder + MIN_INNER_TILE_SIZE + 1) / srcTileSize;\n\n  // refuse to scale image multiple times by less than twice each time,\n  // it could only happen because of invalid options\n  if (minScale > 0.5) return [ [ toWidth, toHeight ] ];\n\n  let stageCount = Math.ceil(Math.log(Math.min(scaleX, scaleY)) / Math.log(minScale));\n\n  // no additional resizes are necessary,\n  // stageCount can be zero or be negative when enlarging the image\n  if (stageCount <= 1) return [ [ toWidth, toHeight ] ];\n\n  let result = [];\n\n  for (let i = 0; i < stageCount; i++) {\n    let width = Math.round(\n      Math.pow(\n        Math.pow(fromWidth, stageCount - i - 1) * Math.pow(toWidth, i + 1),\n        1 / stageCount\n      )\n    );\n\n    let height = Math.round(\n      Math.pow(\n        Math.pow(fromHeight, stageCount - i - 1) * Math.pow(toHeight, i + 1),\n        1 / stageCount\n      )\n    );\n\n    result.push([ width, height ]);\n  }\n\n  return result;\n};\n","// Filter definitions to build tables for\n// resizing convolvers.\n//\n// Presets for quality 0..3. Filter functions + window size\n//\n'use strict';\n\n\nmodule.exports = [\n  { // Nearest neibor (Box)\n    win: 0.5,\n    filter: function (x) {\n      return (x >= -0.5 && x < 0.5) ? 1.0 : 0.0;\n    }\n  },\n  { // Hamming\n    win: 1.0,\n    filter: function (x) {\n      if (x <= -1.0 || x >= 1.0) { return 0.0; }\n      if (x > -1.19209290E-07 && x < 1.19209290E-07) { return 1.0; }\n      var xpi = x * Math.PI;\n      return ((Math.sin(xpi) / xpi) *  (0.54 + 0.46 * Math.cos(xpi / 1.0)));\n    }\n  },\n  { // Lanczos, win = 2\n    win: 2.0,\n    filter: function (x) {\n      if (x <= -2.0 || x >= 2.0) { return 0.0; }\n      if (x > -1.19209290E-07 && x < 1.19209290E-07) { return 1.0; }\n      var xpi = x * Math.PI;\n      return (Math.sin(xpi) / xpi) * Math.sin(xpi / 2.0) / (xpi / 2.0);\n    }\n  },\n  { // Lanczos, win = 3\n    win: 3.0,\n    filter: function (x) {\n      if (x <= -3.0 || x >= 3.0) { return 0.0; }\n      if (x > -1.19209290E-07 && x < 1.19209290E-07) { return 1.0; }\n      var xpi = x * Math.PI;\n      return (Math.sin(xpi) / xpi) * Math.sin(xpi / 3.0) / (xpi / 3.0);\n    }\n  }\n];\n","// Calculate convolution filters for each destination point,\n// and pack data to Int16Array:\n//\n// [ shift, length, data..., shift2, length2, data..., ... ]\n//\n// - shift - offset in src image\n// - length - filter length (in src points)\n// - data - filter values sequence\n//\n'use strict';\n\n\nvar FILTER_INFO = require('./resize_filter_info');\n\n// Precision of fixed FP values\nvar FIXED_FRAC_BITS = 14;\n\n\nfunction toFixedPoint(num) {\n  return Math.round(num * ((1 << FIXED_FRAC_BITS) - 1));\n}\n\n\nmodule.exports = function resizeFilterGen(quality, srcSize, destSize, scale, offset) {\n\n  var filterFunction = FILTER_INFO[quality].filter;\n\n  var scaleInverted = 1.0 / scale;\n  var scaleClamped  = Math.min(1.0, scale); // For upscale\n\n  // Filter window (averaging interval), scaled to src image\n  var srcWindow = FILTER_INFO[quality].win / scaleClamped;\n\n  var destPixel, srcPixel, srcFirst, srcLast, filterElementSize,\n      floatFilter, fxpFilter, total, pxl, idx, floatVal, filterTotal, filterVal;\n  var leftNotEmpty, rightNotEmpty, filterShift, filterSize;\n\n  var maxFilterElementSize = Math.floor((srcWindow + 1) * 2);\n  var packedFilter    = new Int16Array((maxFilterElementSize + 2) * destSize);\n  var packedFilterPtr = 0;\n\n  var slowCopy = !packedFilter.subarray || !packedFilter.set;\n\n  // For each destination pixel calculate source range and built filter values\n  for (destPixel = 0; destPixel < destSize; destPixel++) {\n\n    // Scaling should be done relative to central pixel point\n    srcPixel = (destPixel + 0.5) * scaleInverted + offset;\n\n    srcFirst = Math.max(0, Math.floor(srcPixel - srcWindow));\n    srcLast  = Math.min(srcSize - 1, Math.ceil(srcPixel + srcWindow));\n\n    filterElementSize = srcLast - srcFirst + 1;\n    floatFilter = new Float32Array(filterElementSize);\n    fxpFilter = new Int16Array(filterElementSize);\n\n    total = 0.0;\n\n    // Fill filter values for calculated range\n    for (pxl = srcFirst, idx = 0; pxl <= srcLast; pxl++, idx++) {\n      floatVal = filterFunction(((pxl + 0.5) - srcPixel) * scaleClamped);\n      total += floatVal;\n      floatFilter[idx] = floatVal;\n    }\n\n    // Normalize filter, convert to fixed point and accumulate conversion error\n    filterTotal = 0;\n\n    for (idx = 0; idx < floatFilter.length; idx++) {\n      filterVal = floatFilter[idx] / total;\n      filterTotal += filterVal;\n      fxpFilter[idx] = toFixedPoint(filterVal);\n    }\n\n    // Compensate normalization error, to minimize brightness drift\n    fxpFilter[destSize >> 1] += toFixedPoint(1.0 - filterTotal);\n\n    //\n    // Now pack filter to useable form\n    //\n    // 1. Trim heading and tailing zero values, and compensate shitf/length\n    // 2. Put all to single array in this format:\n    //\n    //    [ pos shift, data length, value1, value2, value3, ... ]\n    //\n\n    leftNotEmpty = 0;\n    while (leftNotEmpty < fxpFilter.length && fxpFilter[leftNotEmpty] === 0) {\n      leftNotEmpty++;\n    }\n\n    if (leftNotEmpty < fxpFilter.length) {\n      rightNotEmpty = fxpFilter.length - 1;\n      while (rightNotEmpty > 0 && fxpFilter[rightNotEmpty] === 0) {\n        rightNotEmpty--;\n      }\n\n      filterShift = srcFirst + leftNotEmpty;\n      filterSize = rightNotEmpty - leftNotEmpty + 1;\n\n      packedFilter[packedFilterPtr++] = filterShift; // shift\n      packedFilter[packedFilterPtr++] = filterSize; // size\n\n      if (!slowCopy) {\n        packedFilter.set(fxpFilter.subarray(leftNotEmpty, rightNotEmpty + 1), packedFilterPtr);\n        packedFilterPtr += filterSize;\n      } else {\n        // fallback for old IE < 11, without subarray/set methods\n        for (idx = leftNotEmpty; idx <= rightNotEmpty; idx++) {\n          packedFilter[packedFilterPtr++] = fxpFilter[idx];\n        }\n      }\n    } else {\n      // zero data, write header only\n      packedFilter[packedFilterPtr++] = 0; // shift\n      packedFilter[packedFilterPtr++] = 0; // size\n    }\n  }\n  return packedFilter;\n};\n","// Unsharp mask filter\n//\n// http://stackoverflow.com/a/23322820/1031804\n// USM(O) = O + (2 * (Amount / 100) * (O - GB))\n// GB - gaussian blur.\n//\n// Image is converted from RGB to HSL, unsharp mask is applied to the\n// lightness channel and then image is converted back to RGB.\n//\n'use strict';\n\n\nvar glur_mono16 = require('glur/mono16');\nvar hsl_l16     = require('./hsl_l16');\n\n\nmodule.exports = function unsharp(img, width, height, amount, radius, threshold) {\n  var r, g, b;\n  var h, s, l;\n  var min, max;\n  var m1, m2, hShifted;\n  var diff, iTimes4;\n\n  if (amount === 0 || radius < 0.5) {\n    return;\n  }\n  if (radius > 2.0) {\n    radius = 2.0;\n  }\n\n  var lightness = hsl_l16(img, width, height);\n\n  var blured = new Uint16Array(lightness); // copy, because blur modify src\n\n  glur_mono16(blured, width, height, radius);\n\n  var amountFp = (amount / 100 * 0x1000 + 0.5)|0;\n  var thresholdFp = (threshold * 257)|0;\n\n  var size = width * height;\n\n  /* eslint-disable indent */\n  for (var i = 0; i < size; i++) {\n    diff = 2 * (lightness[i] - blured[i]);\n\n    if (Math.abs(diff) >= thresholdFp) {\n      iTimes4 = i * 4;\n      r = img[iTimes4];\n      g = img[iTimes4 + 1];\n      b = img[iTimes4 + 2];\n\n      // convert RGB to HSL\n      // take RGB, 8-bit unsigned integer per each channel\n      // save HSL, H and L are 16-bit unsigned integers, S is 12-bit unsigned integer\n      // math is taken from here: http://www.easyrgb.com/index.php?X=MATH&H=18\n      // and adopted to be integer (fixed point in fact) for sake of performance\n      max = (r >= g && r >= b) ? r : (g >= r && g >= b) ? g : b; // min and max are in [0..0xff]\n      min = (r <= g && r <= b) ? r : (g <= r && g <= b) ? g : b;\n      l = (max + min) * 257 >> 1; // l is in [0..0xffff] that is caused by multiplication by 257\n\n      if (min === max) {\n        h = s = 0;\n      } else {\n        s = (l <= 0x7fff) ?\n          (((max - min) * 0xfff) / (max + min))|0 :\n          (((max - min) * 0xfff) / (2 * 0xff - max - min))|0; // s is in [0..0xfff]\n        // h could be less 0, it will be fixed in backward conversion to RGB, |h| <= 0xffff / 6\n        h = (r === max) ? (((g - b) * 0xffff) / (6 * (max - min)))|0\n          : (g === max) ? 0x5555 + ((((b - r) * 0xffff) / (6 * (max - min)))|0) // 0x5555 == 0xffff / 3\n          : 0xaaaa + ((((r - g) * 0xffff) / (6 * (max - min)))|0); // 0xaaaa == 0xffff * 2 / 3\n      }\n\n      // add unsharp mask mask to the lightness channel\n      l += (amountFp * diff + 0x800) >> 12;\n      if (l > 0xffff) {\n        l = 0xffff;\n      } else if (l < 0) {\n        l = 0;\n      }\n\n      // convert HSL back to RGB\n      // for information about math look above\n      if (s === 0) {\n        r = g = b = l >> 8;\n      } else {\n        m2 = (l <= 0x7fff) ? (l * (0x1000 + s) + 0x800) >> 12 :\n          l  + (((0xffff - l) * s + 0x800) >>  12);\n        m1 = 2 * l - m2 >> 8;\n        m2 >>= 8;\n        // save result to RGB channels\n        // R channel\n        hShifted = (h + 0x5555) & 0xffff; // 0x5555 == 0xffff / 3\n        r = (hShifted >= 0xaaaa) ? m1 // 0xaaaa == 0xffff * 2 / 3\n          : (hShifted >= 0x7fff) ?  m1 + ((m2 - m1) * 6 * (0xaaaa - hShifted) + 0x8000 >> 16)\n          : (hShifted >= 0x2aaa) ? m2 // 0x2aaa == 0xffff / 6\n          : m1 + ((m2 - m1) * 6 * hShifted + 0x8000 >> 16);\n        // G channel\n        hShifted = h & 0xffff;\n        g = (hShifted >= 0xaaaa) ? m1 // 0xaaaa == 0xffff * 2 / 3\n          : (hShifted >= 0x7fff) ?  m1 + ((m2 - m1) * 6 * (0xaaaa - hShifted) + 0x8000 >> 16)\n          : (hShifted >= 0x2aaa) ? m2 // 0x2aaa == 0xffff / 6\n          : m1 + ((m2 - m1) * 6 * hShifted + 0x8000 >> 16);\n        // B channel\n        hShifted = (h - 0x5555) & 0xffff;\n        b = (hShifted >= 0xaaaa) ? m1 // 0xaaaa == 0xffff * 2 / 3\n          : (hShifted >= 0x7fff) ?  m1 + ((m2 - m1) * 6 * (0xaaaa - hShifted) + 0x8000 >> 16)\n          : (hShifted >= 0x2aaa) ? m2 // 0x2aaa == 0xffff / 6\n          : m1 + ((m2 - m1) * 6 * hShifted + 0x8000 >> 16);\n      }\n\n      img[iTimes4] = r;\n      img[iTimes4 + 1] = g;\n      img[iTimes4 + 2] = b;\n    }\n  }\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// This is autogenerated file from math.wasm, don't edit.\n//\n'use strict';\n\n/* eslint-disable max-len */\nmodule.exports = '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';\n"],"sourceRoot":""}