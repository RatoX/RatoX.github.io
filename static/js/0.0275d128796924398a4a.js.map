{"version":3,"sources":["webpack:///src/components/tools/ImageResizer.vue","webpack:///./src/components/tools/ImageResizer.vue?beb9","webpack:///./src/components/tools/ImageResizer.vue","webpack:///./node_modules/pica/dist/pica.js","webpack:///./node_modules/file-saver/dist/FileSaver.min.js"],"names":["ImageResizer_pica","pica_default","ImageResizer","name","data","original","size","dimension","type","newFile","width","height","loading","image","reducePercent","computed","newDimension","concat","this","methods","updateNewDimensions","percent","_this$image","newWidth","Math","ceil","newHeight","reduceIt","_this","resize","$refs","canvas","unsharpAmount","unsharpRadius","unsharpThreshold","then","result","toBlob","Object","FileSaver_min","changeImage","_ref","_this2","file","target","files","bytes","decimals","dm","i","floor","log","parseFloat","pow","toFixed","formatBytes","reader","FileReader","onload","event","img","Image","src","readAsDataURL","tools_ImageResizer","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","accept","disabled","on","change","_v","for","_s","directives","rawName","value","expression","min","max","domProps","input","__r","$event","click","ref","href","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","require","f","r","e","n","t","o","u","a","Error","code","p","exports","call","length","1","module","inherits","Multimath","mm_unsharp_mask","mm_resize","MathLib","requested_features","__requested_features","features","js","indexOf","wasm","has_wasm","use","prototype","resizeAndUnsharp","options","cache","unsharp_mask","toWidth","toHeight","./mm_resize","multimath","multimath/lib/unsharp_mask","2","clampTo8","convolveHorizontally","dest","srcW","srcH","destW","filters","g","b","filterPtr","filterShift","filterSize","srcPtr","srcY","destX","filterVal","srcOffset","destOffset","convolveVertically","3","4","fn","wasm_fn","wasm_src","./convolve_wasm_base64","./resize","./resize_wasm","5","createFilters","destH","scaleX","scaleY","offsetX","offsetY","Uint8Array","quality","alpha","filtersX","filtersY","tmp","dst","ptr","len","resetAlpha","./convolve","./resize_filter_gen","6","FILTER_INFO","FIXED_FRAC_BITS","toFixedPoint","num","round","srcSize","destSize","scale","offset","destPixel","srcPixel","srcFirst","srcLast","filterElementSize","floatFilter","fxpFilter","total","pxl","idx","floatVal","filterTotal","leftNotEmpty","rightNotEmpty","filterFunction","filter","scaleInverted","scaleClamped","srcWindow","win","maxFilterElementSize","packedFilter","Int16Array","packedFilterPtr","slowCopy","subarray","set","Float32Array","./resize_filter_info","7","x","xpi","PI","sin","cos","8","IS_LE","Uint32Array","buffer","__","copyInt16asLE","target_offset","byteLength","asUint8Array","tmp_offset","__align","filtersX_offset","filtersY_offset","alloc_bytes","instance","__instance","mem","__memory","mem32","src32","convolveHV","_convolveHV","9","Pool","create","idle","available","acquired","lastId","timeoutId","acquire","resource","pop","release","lastUsed","Date","now","push","setTimeout","gc","_this3","destroy","10","fromWidth","fromHeight","srcTileSize","destTileBorder","minScale","stageCount","11","PIXEL_EPSILON","pixelFloor","nearest","abs","pixelCeil","y","innerX","innerY","toTileWidth","toTileHeight","innerTileWidth","innerTileHeight","tile","tiles","toX","toY","toInnerX","toInnerY","toInnerWidth","toInnerHeight","12","objClass","obj","toString","isCanvas","element","cname","isImage","limiter","concurrency","active","queue","roll","shift","Promise","resolve","reject","err","cib_quality_name","cib_support","createImageBitmap","document","c","createElement","resizeWidth","resizeHeight","resizeQuality","bitmap","status","close","catch","13","mathLib","onmessage","ev","opts","postMessage","./mathlib","14","a0","a1","a2","a3","b1","b2","convolveMono16","out","line","coeff","prev_src","curr_src","curr_out","prev_out","prev_prev_out","src_index","out_index","line_index","j","coeff_a0","coeff_a1","coeff_b1","coeff_b2","radius","Uint16Array","tmp_line","sigma","exp","g1","g2","k","gaussCoef","15","ctor","superCtor","super_","constructor","enumerable","writable","configurable","TempCtor","16","assign","base64decode","hasWebAssembly","DEFAULT_OPTIONS","MultiMath","__cache","__init_promise","__modules","modules","__wasm","__isLE","init","self","all","keys","map","WebAssembly","compile","__base64decode","m","__reallocate","Memory","initial","mem_size","grow","memsize","env_extra","Module","env_base","memoryBase","memory","tableBase","table","Table","Instance","env","number","base","reminder","./lib/base64decode","./lib/wa_detect","object-assign","17","str","replace","bits","charAt","tailbits","18","19","./unsharp_mask","./unsharp_mask_wasm","./unsharp_mask_wasm_base64","20","glur_mono16","hsl_l16","amount","threshold","h","s","l","m1","m2","hShifted","diff","iTimes4","lightness","blured","amountFp","thresholdFp","./hsl_l16","glur/mono16","21","pixels","img_bytes_cnt","hsl_bytes_cnt","blur_bytes_cnt","blur_line_byte_cnt","hsl_offset","blur_offset","blur_tmp_offset","blur_line_offset","blur_coeffs_offset","img32","_hsl_l16","blurMono16","_blurMono16","unsharp","_unsharp","22","23","wa","bin","test","24","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","test1","String","getOwnPropertyNames","test2","fromCharCode","join","test3","split","forEach","letter","shouldUseNative","source","from","symbols","to","val","undefined","TypeError","toObject","arguments","key","25","bundleFn","sources","stringify","JSON","wkey","cacheKeys","default","random","wcache","skey","scache","workerSources","resolveSources","depPath","depKey","URL","window","webkitURL","mozURL","msURL","blob","Blob","bare","workerUrl","createObjectURL","worker","Worker","objectURL","/","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_arr","_n","_d","_i","Symbol","iterator","next","done","_iterableToArrayLimit","_nonIterableRest","webworkify","utils","createStages","createRegions","singletones","NEED_SAFARI_FIX","navigator","userAgent","hardwareConcurrency","CAN_NEW_IMAGE_DATA","CAN_CREATE_IMAGE_BITMAP","DEFAULT_PICA_OPTS","DEFAULT_RESIZE_OPTS","workerFabric","terminate","url","revokeObjectURL","Pica","limiter_key","__limit","cib","ww","__workersPool","__mathlib","__initPromise","ImageData","Uint8ClampedArray","ImageBitmap","debug","slice","wpool_key","checkCibResize","initMath","mathlib","isNaN","naturalWidth","naturalHeight","canceled","cancelToken","toCtx","getContext","Boolean","imageBitmap","drawImage","tmpCanvas","tmpCtx","iData","getImageData","putImageData","tileAndResize","srcCtx","srcImageBitmap","processTile","srcImageData","globalCompositeOperation","w","preload","wasm_nodule","toImageData","createImageData","jobs","cleanup","processStages","stages","_stages$shift2","isLastStage","resizeBuffer","mimeType","asString","atob","toDataURL","asBuffer","charCodeAt","./lib/mathlib","./lib/pool","./lib/stepper","./lib/tiler","./lib/utils","./lib/worker","global","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","d","XMLHttpRequest","open","responseType","response","onerror","console","error","send","dispatchEvent","MouseEvent","createEvent","initMouseEvent","saveAs","HTMLAnchorElement","download","rel","origin","location","msSaveOrOpenBlob","autoBom","warn","title","body","innerText","HTMLElement","safari","onloadend","apply"],"mappings":"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","file":"static/js/0.0275d128796924398a4a.js","sourcesContent":["<template>\n  <div class=\"image-resizer\">\n    <input type=\"file\"\n           id=\"image\"\n           @change=\"changeImage\"\n           accept=\"image/*\"\n           :disabled=\"loading\"\n           name=\"image\"/>\n    <section\n      v-if=\"image\"\n      class=\"image-resizer__resizer\">\n      <section class=\"image-resizer__original-details\">\n        <label for=\"originalSize\">Original size: </label>\n        <output for=\"image\" name=\"originalSize\">\n          {{ original.size }}\n        </output>\n\n        <label for=\"originalDimension\">Original dimension: </label>\n        <output for=\"image\" name=\"originalDimension\">\n          {{ original.dimension }}\n        </output>\n      </section>\n      <section class=\"image-resizer__new-details\">\n        <label for=\"newDimension\">New dimension: </label>\n        <output for=\"image\" name=\"newDimension\">\n          {{ newDimension }}\n        </output>\n      </section>\n      <input\n        type=\"range\"\n        id=\"reducePercent\"\n        name=\"reducePercent\"\n        min=\"0\" max=\"90\"\n        v-model=\"reducePercent\"\n        v-on:change=\"updateNewDimensions\"\n        v-on:input=\"updateNewDimensions\"\n        />\n      <button v-on:click=\"reduceIt\">Reduce it!</button>\n      <a class=\"image-resizer__download\" ref=\"downloadLink\" href=\"#\">Download it!</a>\n      <canvas\n        class=\"image-resizer__result\"\n        ref=\"canvas\"\n        :width=\"newFile.width\"\n        :height=\"newFile.height\"\n        ></canvas>\n    </section>\n  </div>\n</template>\n\n<script>\nimport Pica from 'pica';\nimport { saveAs } from 'file-saver';\n\nconst pica = Pica();\n\nfunction formatBytes(bytes, decimals) {\n  // https://stackoverflow.com/a/18650828\n  if (bytes === 0) return '0 Bytes';\n  const k = 1024;\n  const dm = decimals <= 0 ? 0 : decimals || 2;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return `${parseFloat((bytes / (k ** i)).toFixed(dm))} ${sizes[i]}`;\n}\n\nexport default {\n  name: 'ImageResizer',\n  data() {\n    return {\n      original: {\n        size: '',\n        dimension: '',\n        type: '',\n        name: '',\n      },\n      newFile: {\n        width: '0',\n        height: '0',\n      },\n      loading: false,\n      image: null,\n      reducePercent: 90,\n    };\n  },\n  computed: {\n    newDimension() {\n      return `${this.reducePercent}% ${this.newFile.width}x${this.newFile.height}`;\n    },\n  },\n  methods: {\n    updateNewDimensions() {\n      const percent = this.reducePercent;\n      const { width, height } = this.image;\n      const newWidth = Math.ceil(width - (width * (percent / 100)));\n      const newHeight = Math.ceil(height - (height * (percent / 100)));\n\n      this.newFile.width = newWidth;\n      this.newFile.height = newHeight;\n    },\n    reduceIt() {\n      pica\n        .resize(this.image, this.$refs.canvas, {\n          unsharpAmount: 80,\n          unsharpRadius: 0.6,\n          unsharpThreshold: 2,\n        })\n        .then(result => pica.toBlob(result, this.original.type))\n        .then((result) => {\n          saveAs(result, this.original.name);\n        });\n    },\n\n    changeImage({ target }) {\n      const file = target.files[0];\n      const size = formatBytes(file.size);\n\n      this.original.name = file.name;\n      this.original.type = file.type;\n      this.original.size = size;\n      this.loading = true;\n      const reader = new FileReader();\n\n      reader.onload = (event) => {\n        const img = new Image();\n        img.onload = () => {\n          const dimension = `${img.width}x${img.height}`;\n          this.original.dimension = dimension;\n          this.image = img;\n          this.loading = false;\n          this.updateNewDimensions();\n        };\n        img.src = event.target.result;\n      };\n\n      reader.readAsDataURL(file);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.image-resizer {\n  width: 100%;\n}\n\n.image-resizer__resizer {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n\n.image-resizer__download {\n  display: none;\n}\n\n.image-resizer__result {\n  display: none;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/tools/ImageResizer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"image-resizer\"},[_c('input',{attrs:{\"type\":\"file\",\"id\":\"image\",\"accept\":\"image/*\",\"disabled\":_vm.loading,\"name\":\"image\"},on:{\"change\":_vm.changeImage}}),_vm._v(\" \"),(_vm.image)?_c('section',{staticClass:\"image-resizer__resizer\"},[_c('section',{staticClass:\"image-resizer__original-details\"},[_c('label',{attrs:{\"for\":\"originalSize\"}},[_vm._v(\"Original size: \")]),_vm._v(\" \"),_c('output',{attrs:{\"for\":\"image\",\"name\":\"originalSize\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.original.size)+\"\\n      \")]),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"originalDimension\"}},[_vm._v(\"Original dimension: \")]),_vm._v(\" \"),_c('output',{attrs:{\"for\":\"image\",\"name\":\"originalDimension\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.original.dimension)+\"\\n      \")])]),_vm._v(\" \"),_c('section',{staticClass:\"image-resizer__new-details\"},[_c('label',{attrs:{\"for\":\"newDimension\"}},[_vm._v(\"New dimension: \")]),_vm._v(\" \"),_c('output',{attrs:{\"for\":\"image\",\"name\":\"newDimension\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.newDimension)+\"\\n      \")])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reducePercent),expression:\"reducePercent\"}],attrs:{\"type\":\"range\",\"id\":\"reducePercent\",\"name\":\"reducePercent\",\"min\":\"0\",\"max\":\"90\"},domProps:{\"value\":(_vm.reducePercent)},on:{\"change\":_vm.updateNewDimensions,\"input\":_vm.updateNewDimensions,\"__r\":function($event){_vm.reducePercent=$event.target.value}}}),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.reduceIt}},[_vm._v(\"Reduce it!\")]),_vm._v(\" \"),_c('a',{ref:\"downloadLink\",staticClass:\"image-resizer__download\",attrs:{\"href\":\"#\"}},[_vm._v(\"Download it!\")]),_vm._v(\" \"),_c('canvas',{ref:\"canvas\",staticClass:\"image-resizer__result\",attrs:{\"width\":_vm.newFile.width,\"height\":_vm.newFile.height}})]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e654a45\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/tools/ImageResizer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e654a45\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ImageResizer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImageResizer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImageResizer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e654a45\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ImageResizer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1e654a45\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tools/ImageResizer.vue\n// module id = null\n// module chunks = ","/* pica 5.0.0 nodeca/pica */(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.pica = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n// Collection of math functions\n//\n// 1. Combine components together\n// 2. Has async init to load wasm modules\n//\n'use strict';\n\nvar inherits = require('inherits');\n\nvar Multimath = require('multimath');\n\nvar mm_unsharp_mask = require('multimath/lib/unsharp_mask');\n\nvar mm_resize = require('./mm_resize');\n\nfunction MathLib(requested_features) {\n  var __requested_features = requested_features || [];\n\n  var features = {\n    js: __requested_features.indexOf('js') >= 0,\n    wasm: __requested_features.indexOf('wasm') >= 0\n  };\n  Multimath.call(this, features);\n  this.features = {\n    js: features.js,\n    wasm: features.wasm && this.has_wasm\n  };\n  this.use(mm_unsharp_mask);\n  this.use(mm_resize);\n}\n\ninherits(MathLib, Multimath);\n\nMathLib.prototype.resizeAndUnsharp = function resizeAndUnsharp(options, cache) {\n  var result = this.resize(options, cache);\n\n  if (options.unsharpAmount) {\n    this.unsharp_mask(result, options.toWidth, options.toHeight, options.unsharpAmount, options.unsharpRadius, options.unsharpThreshold);\n  }\n\n  return result;\n};\n\nmodule.exports = MathLib;\n\n},{\"./mm_resize\":4,\"inherits\":15,\"multimath\":16,\"multimath/lib/unsharp_mask\":19}],2:[function(require,module,exports){\n// Resize convolvers, pure JS implementation\n//\n'use strict'; // Precision of fixed FP values\n//var FIXED_FRAC_BITS = 14;\n\nfunction clampTo8(i) {\n  return i < 0 ? 0 : i > 255 ? 255 : i;\n} // Convolve image in horizontal directions and transpose output. In theory,\n// transpose allow:\n//\n// - use the same convolver for both passes (this fails due different\n//   types of input array and temporary buffer)\n// - making vertical pass by horisonltal lines inprove CPU cache use.\n//\n// But in real life this doesn't work :)\n//\n\n\nfunction convolveHorizontally(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Bring this value back in range. All of the filter scaling factors\n      // are in fixed point with FIXED_FRAC_BITS bits of fractional part.\n      //\n      // (!) Add 1/2 of value before clamping to get proper rounding. In other\n      // case brightness loss will be noticeable if you resize image with white\n      // border and place it on white background.\n      //\n\n\n      dest[destOffset + 3] = clampTo8(a + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset + 1] = clampTo8(g + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset] = clampTo8(r + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n} // Technically, convolvers are the same. But input array and temporary\n// buffer can be of different type (especially, in old browsers). So,\n// keep code in separate functions to avoid deoptimizations & speed loss.\n\n\nfunction convolveVertically(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Bring this value back in range. All of the filter scaling factors\n      // are in fixed point with FIXED_FRAC_BITS bits of fractional part.\n      //\n      // (!) Add 1/2 of value before clamping to get proper rounding. In other\n      // case brightness loss will be noticeable if you resize image with white\n      // border and place it on white background.\n      //\n\n\n      dest[destOffset + 3] = clampTo8(a + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset + 1] = clampTo8(g + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset] = clampTo8(r + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n}\n\nmodule.exports = {\n  convolveHorizontally: convolveHorizontally,\n  convolveVertically: convolveVertically\n};\n\n},{}],3:[function(require,module,exports){\n// This is autogenerated file from math.wasm, don't edit.\n//\n'use strict';\n/* eslint-disable max-len */\n\nmodule.exports = 'AGFzbQEAAAABFAJgBn9/f39/fwBgB39/f39/f38AAg8BA2VudgZtZW1vcnkCAAEDAwIAAQQEAXAAAAcZAghjb252b2x2ZQAACmNvbnZvbHZlSFYAAQkBAArmAwLBAwEQfwJAIANFDQAgBEUNACAFQQRqIRVBACEMQQAhDQNAIA0hDkEAIRFBACEHA0AgB0ECaiESAn8gBSAHQQF0IgdqIgZBAmouAQAiEwRAQQAhCEEAIBNrIRQgFSAHaiEPIAAgDCAGLgEAakECdGohEEEAIQlBACEKQQAhCwNAIBAoAgAiB0EYdiAPLgEAIgZsIAtqIQsgB0H/AXEgBmwgCGohCCAHQRB2Qf8BcSAGbCAKaiEKIAdBCHZB/wFxIAZsIAlqIQkgD0ECaiEPIBBBBGohECAUQQFqIhQNAAsgEiATagwBC0EAIQtBACEKQQAhCUEAIQggEgshByABIA5BAnRqIApBgMAAakEOdSIGQf8BIAZB/wFIG0EQdEGAgPwHcUEAIAZBAEobIAtBgMAAakEOdSIGQf8BIAZB/wFIG0EYdEEAIAZBAEobciAJQYDAAGpBDnUiBkH/ASAGQf8BSBtBCHRBgP4DcUEAIAZBAEobciAIQYDAAGpBDnUiBkH/ASAGQf8BSBtB/wFxQQAgBkEAShtyNgIAIA4gA2ohDiARQQFqIhEgBEcNAAsgDCACaiEMIA1BAWoiDSADRw0ACwsLIQACQEEAIAIgAyAEIAUgABAAIAJBACAEIAUgBiABEAALCw==';\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  name: 'resize',\n  fn: require('./resize'),\n  wasm_fn: require('./resize_wasm'),\n  wasm_src: require('./convolve_wasm_base64')\n};\n\n},{\"./convolve_wasm_base64\":3,\"./resize\":5,\"./resize_wasm\":8}],5:[function(require,module,exports){\n'use strict';\n\nvar createFilters = require('./resize_filter_gen');\n\nvar convolveHorizontally = require('./convolve').convolveHorizontally;\n\nvar convolveVertically = require('./convolve').convolveVertically;\n\nfunction resetAlpha(dst, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    dst[ptr] = 0xFF;\n    ptr = ptr + 4 | 0;\n  }\n}\n\nmodule.exports = function resize(options) {\n  var src = options.src;\n  var srcW = options.width;\n  var srcH = options.height;\n  var destW = options.toWidth;\n  var destH = options.toHeight;\n  var scaleX = options.scaleX || options.toWidth / options.width;\n  var scaleY = options.scaleY || options.toHeight / options.height;\n  var offsetX = options.offsetX || 0;\n  var offsetY = options.offsetY || 0;\n  var dest = options.dest || new Uint8Array(destW * destH * 4);\n  var quality = typeof options.quality === 'undefined' ? 3 : options.quality;\n  var alpha = options.alpha || false;\n  var filtersX = createFilters(quality, srcW, destW, scaleX, offsetX),\n      filtersY = createFilters(quality, srcH, destH, scaleY, offsetY);\n  var tmp = new Uint8Array(destW * srcH * 4); // To use single function we need src & tmp of the same type.\n  // But src can be CanvasPixelArray, and tmp - Uint8Array. So, keep\n  // vertical and horizontal passes separately to avoid deoptimization.\n\n  convolveHorizontally(src, tmp, srcW, srcH, destW, filtersX);\n  convolveVertically(tmp, dest, srcH, destW, destH, filtersY); // That's faster than doing checks in convolver.\n  // !!! Note, canvas data is not premultipled. We don't need other\n  // alpha corrections.\n\n  if (!alpha) resetAlpha(dest, destW, destH);\n  return dest;\n};\n\n},{\"./convolve\":2,\"./resize_filter_gen\":6}],6:[function(require,module,exports){\n// Calculate convolution filters for each destination point,\n// and pack data to Int16Array:\n//\n// [ shift, length, data..., shift2, length2, data..., ... ]\n//\n// - shift - offset in src image\n// - length - filter length (in src points)\n// - data - filter values sequence\n//\n'use strict';\n\nvar FILTER_INFO = require('./resize_filter_info'); // Precision of fixed FP values\n\n\nvar FIXED_FRAC_BITS = 14;\n\nfunction toFixedPoint(num) {\n  return Math.round(num * ((1 << FIXED_FRAC_BITS) - 1));\n}\n\nmodule.exports = function resizeFilterGen(quality, srcSize, destSize, scale, offset) {\n  var filterFunction = FILTER_INFO[quality].filter;\n  var scaleInverted = 1.0 / scale;\n  var scaleClamped = Math.min(1.0, scale); // For upscale\n  // Filter window (averaging interval), scaled to src image\n\n  var srcWindow = FILTER_INFO[quality].win / scaleClamped;\n  var destPixel, srcPixel, srcFirst, srcLast, filterElementSize, floatFilter, fxpFilter, total, pxl, idx, floatVal, filterTotal, filterVal;\n  var leftNotEmpty, rightNotEmpty, filterShift, filterSize;\n  var maxFilterElementSize = Math.floor((srcWindow + 1) * 2);\n  var packedFilter = new Int16Array((maxFilterElementSize + 2) * destSize);\n  var packedFilterPtr = 0;\n  var slowCopy = !packedFilter.subarray || !packedFilter.set; // For each destination pixel calculate source range and built filter values\n\n  for (destPixel = 0; destPixel < destSize; destPixel++) {\n    // Scaling should be done relative to central pixel point\n    srcPixel = (destPixel + 0.5) * scaleInverted + offset;\n    srcFirst = Math.max(0, Math.floor(srcPixel - srcWindow));\n    srcLast = Math.min(srcSize - 1, Math.ceil(srcPixel + srcWindow));\n    filterElementSize = srcLast - srcFirst + 1;\n    floatFilter = new Float32Array(filterElementSize);\n    fxpFilter = new Int16Array(filterElementSize);\n    total = 0.0; // Fill filter values for calculated range\n\n    for (pxl = srcFirst, idx = 0; pxl <= srcLast; pxl++, idx++) {\n      floatVal = filterFunction((pxl + 0.5 - srcPixel) * scaleClamped);\n      total += floatVal;\n      floatFilter[idx] = floatVal;\n    } // Normalize filter, convert to fixed point and accumulate conversion error\n\n\n    filterTotal = 0;\n\n    for (idx = 0; idx < floatFilter.length; idx++) {\n      filterVal = floatFilter[idx] / total;\n      filterTotal += filterVal;\n      fxpFilter[idx] = toFixedPoint(filterVal);\n    } // Compensate normalization error, to minimize brightness drift\n\n\n    fxpFilter[destSize >> 1] += toFixedPoint(1.0 - filterTotal); //\n    // Now pack filter to useable form\n    //\n    // 1. Trim heading and tailing zero values, and compensate shitf/length\n    // 2. Put all to single array in this format:\n    //\n    //    [ pos shift, data length, value1, value2, value3, ... ]\n    //\n\n    leftNotEmpty = 0;\n\n    while (leftNotEmpty < fxpFilter.length && fxpFilter[leftNotEmpty] === 0) {\n      leftNotEmpty++;\n    }\n\n    if (leftNotEmpty < fxpFilter.length) {\n      rightNotEmpty = fxpFilter.length - 1;\n\n      while (rightNotEmpty > 0 && fxpFilter[rightNotEmpty] === 0) {\n        rightNotEmpty--;\n      }\n\n      filterShift = srcFirst + leftNotEmpty;\n      filterSize = rightNotEmpty - leftNotEmpty + 1;\n      packedFilter[packedFilterPtr++] = filterShift; // shift\n\n      packedFilter[packedFilterPtr++] = filterSize; // size\n\n      if (!slowCopy) {\n        packedFilter.set(fxpFilter.subarray(leftNotEmpty, rightNotEmpty + 1), packedFilterPtr);\n        packedFilterPtr += filterSize;\n      } else {\n        // fallback for old IE < 11, without subarray/set methods\n        for (idx = leftNotEmpty; idx <= rightNotEmpty; idx++) {\n          packedFilter[packedFilterPtr++] = fxpFilter[idx];\n        }\n      }\n    } else {\n      // zero data, write header only\n      packedFilter[packedFilterPtr++] = 0; // shift\n\n      packedFilter[packedFilterPtr++] = 0; // size\n    }\n  }\n\n  return packedFilter;\n};\n\n},{\"./resize_filter_info\":7}],7:[function(require,module,exports){\n// Filter definitions to build tables for\n// resizing convolvers.\n//\n// Presets for quality 0..3. Filter functions + window size\n//\n'use strict';\n\nmodule.exports = [{\n  // Nearest neibor (Box)\n  win: 0.5,\n  filter: function filter(x) {\n    return x >= -0.5 && x < 0.5 ? 1.0 : 0.0;\n  }\n}, {\n  // Hamming\n  win: 1.0,\n  filter: function filter(x) {\n    if (x <= -1.0 || x >= 1.0) {\n      return 0.0;\n    }\n\n    if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n      return 1.0;\n    }\n\n    var xpi = x * Math.PI;\n    return Math.sin(xpi) / xpi * (0.54 + 0.46 * Math.cos(xpi / 1.0));\n  }\n}, {\n  // Lanczos, win = 2\n  win: 2.0,\n  filter: function filter(x) {\n    if (x <= -2.0 || x >= 2.0) {\n      return 0.0;\n    }\n\n    if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n      return 1.0;\n    }\n\n    var xpi = x * Math.PI;\n    return Math.sin(xpi) / xpi * Math.sin(xpi / 2.0) / (xpi / 2.0);\n  }\n}, {\n  // Lanczos, win = 3\n  win: 3.0,\n  filter: function filter(x) {\n    if (x <= -3.0 || x >= 3.0) {\n      return 0.0;\n    }\n\n    if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n      return 1.0;\n    }\n\n    var xpi = x * Math.PI;\n    return Math.sin(xpi) / xpi * Math.sin(xpi / 3.0) / (xpi / 3.0);\n  }\n}];\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nvar createFilters = require('./resize_filter_gen');\n\nfunction resetAlpha(dst, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    dst[ptr] = 0xFF;\n    ptr = ptr + 4 | 0;\n  }\n}\n\nfunction asUint8Array(src) {\n  return new Uint8Array(src.buffer, 0, src.byteLength);\n}\n\nvar IS_LE = true; // should not crash everything on module load in old browsers\n\ntry {\n  IS_LE = new Uint32Array(new Uint8Array([1, 0, 0, 0]).buffer)[0] === 1;\n} catch (__) {}\n\nfunction copyInt16asLE(src, target, target_offset) {\n  if (IS_LE) {\n    target.set(asUint8Array(src), target_offset);\n    return;\n  }\n\n  for (var ptr = target_offset, i = 0; i < src.length; i++) {\n    var data = src[i];\n    target[ptr++] = data & 0xFF;\n    target[ptr++] = data >> 8 & 0xFF;\n  }\n}\n\nmodule.exports = function resize_wasm(options) {\n  var src = options.src;\n  var srcW = options.width;\n  var srcH = options.height;\n  var destW = options.toWidth;\n  var destH = options.toHeight;\n  var scaleX = options.scaleX || options.toWidth / options.width;\n  var scaleY = options.scaleY || options.toHeight / options.height;\n  var offsetX = options.offsetX || 0.0;\n  var offsetY = options.offsetY || 0.0;\n  var dest = options.dest || new Uint8Array(destW * destH * 4);\n  var quality = typeof options.quality === 'undefined' ? 3 : options.quality;\n  var alpha = options.alpha || false;\n  var filtersX = createFilters(quality, srcW, destW, scaleX, offsetX),\n      filtersY = createFilters(quality, srcH, destH, scaleY, offsetY); // destination is 0 too.\n\n  var src_offset = 0; // buffer between convolve passes\n\n  var tmp_offset = this.__align(src_offset + Math.max(src.byteLength, dest.byteLength));\n\n  var filtersX_offset = this.__align(tmp_offset + srcH * destW * 4);\n\n  var filtersY_offset = this.__align(filtersX_offset + filtersX.byteLength);\n\n  var alloc_bytes = filtersY_offset + filtersY.byteLength;\n\n  var instance = this.__instance('resize', alloc_bytes); //\n  // Fill memory block with data to process\n  //\n\n\n  var mem = new Uint8Array(this.__memory.buffer);\n  var mem32 = new Uint32Array(this.__memory.buffer); // 32-bit copy is much faster in chrome\n\n  var src32 = new Uint32Array(src.buffer);\n  mem32.set(src32); // We should guarantee LE bytes order. Filters are not big, so\n  // speed difference is not significant vs direct .set()\n\n  copyInt16asLE(filtersX, mem, filtersX_offset);\n  copyInt16asLE(filtersY, mem, filtersY_offset); //\n  // Now call webassembly method\n  // emsdk does method names with '_'\n\n  var fn = instance.exports.convolveHV || instance.exports._convolveHV;\n  fn(filtersX_offset, filtersY_offset, tmp_offset, srcW, srcH, destW, destH); //\n  // Copy data back to typed array\n  //\n  // 32-bit copy is much faster in chrome\n\n  var dest32 = new Uint32Array(dest.buffer);\n  dest32.set(new Uint32Array(this.__memory.buffer, 0, destH * destW)); // That's faster than doing checks in convolver.\n  // !!! Note, canvas data is not premultipled. We don't need other\n  // alpha corrections.\n\n  if (!alpha) resetAlpha(dest, destW, destH);\n  return dest;\n};\n\n},{\"./resize_filter_gen\":6}],9:[function(require,module,exports){\n'use strict';\n\nvar GC_INTERVAL = 100;\n\nfunction Pool(create, idle) {\n  this.create = create;\n  this.available = [];\n  this.acquired = {};\n  this.lastId = 1;\n  this.timeoutId = 0;\n  this.idle = idle || 2000;\n}\n\nPool.prototype.acquire = function () {\n  var _this = this;\n\n  var resource;\n\n  if (this.available.length !== 0) {\n    resource = this.available.pop();\n  } else {\n    resource = this.create();\n    resource.id = this.lastId++;\n\n    resource.release = function () {\n      return _this.release(resource);\n    };\n  }\n\n  this.acquired[resource.id] = resource;\n  return resource;\n};\n\nPool.prototype.release = function (resource) {\n  var _this2 = this;\n\n  delete this.acquired[resource.id];\n  resource.lastUsed = Date.now();\n  this.available.push(resource);\n\n  if (this.timeoutId === 0) {\n    this.timeoutId = setTimeout(function () {\n      return _this2.gc();\n    }, GC_INTERVAL);\n  }\n};\n\nPool.prototype.gc = function () {\n  var _this3 = this;\n\n  var now = Date.now();\n  this.available = this.available.filter(function (resource) {\n    if (now - resource.lastUsed > _this3.idle) {\n      resource.destroy();\n      return false;\n    }\n\n    return true;\n  });\n\n  if (this.available.length !== 0) {\n    this.timeoutId = setTimeout(function () {\n      return _this3.gc();\n    }, GC_INTERVAL);\n  } else {\n    this.timeoutId = 0;\n  }\n};\n\nmodule.exports = Pool;\n\n},{}],10:[function(require,module,exports){\n// Add intermediate resizing steps when scaling down by a very large factor.\n//\n// For example, when resizing 10000x10000 down to 10x10, it'll resize it to\n// 300x300 first.\n//\n// It's needed because tiler has issues when the entire tile is scaled down\n// to a few pixels (1024px source tile with border size 3 should result in\n// at least 3+3+2 = 8px target tile, so max scale factor is 128 here).\n//\n// Also, adding intermediate steps can speed up processing if we use lower\n// quality algorithms for first stages.\n//\n'use strict'; // min size = 0 results in infinite loop,\n// min size = 1 can consume large amount of memory\n\nvar MIN_INNER_TILE_SIZE = 2;\n\nmodule.exports = function createStages(fromWidth, fromHeight, toWidth, toHeight, srcTileSize, destTileBorder) {\n  var scaleX = toWidth / fromWidth;\n  var scaleY = toHeight / fromHeight; // derived from createRegions equation:\n  // innerTileWidth = pixelFloor(srcTileSize * scaleX) - 2 * destTileBorder;\n\n  var minScale = (2 * destTileBorder + MIN_INNER_TILE_SIZE + 1) / srcTileSize; // refuse to scale image multiple times by less than twice each time,\n  // it could only happen because of invalid options\n\n  if (minScale > 0.5) return [[toWidth, toHeight]];\n  var stageCount = Math.ceil(Math.log(Math.min(scaleX, scaleY)) / Math.log(minScale)); // no additional resizes are necessary,\n  // stageCount can be zero or be negative when enlarging the image\n\n  if (stageCount <= 1) return [[toWidth, toHeight]];\n  var result = [];\n\n  for (var i = 0; i < stageCount; i++) {\n    var width = Math.round(Math.pow(Math.pow(fromWidth, stageCount - i - 1) * Math.pow(toWidth, i + 1), 1 / stageCount));\n    var height = Math.round(Math.pow(Math.pow(fromHeight, stageCount - i - 1) * Math.pow(toHeight, i + 1), 1 / stageCount));\n    result.push([width, height]);\n  }\n\n  return result;\n};\n\n},{}],11:[function(require,module,exports){\n// Split original image into multiple 1024x1024 chunks to reduce memory usage\n// (images have to be unpacked into typed arrays for resizing) and allow\n// parallel processing of multiple tiles at a time.\n//\n'use strict';\n/*\n * pixelFloor and pixelCeil are modified versions of Math.floor and Math.ceil\n * functions which take into account floating point arithmetic errors.\n * Those errors can cause undesired increments/decrements of sizes and offsets:\n * Math.ceil(36 / (36 / 500)) = 501\n * pixelCeil(36 / (36 / 500)) = 500\n */\n\nvar PIXEL_EPSILON = 1e-5;\n\nfunction pixelFloor(x) {\n  var nearest = Math.round(x);\n\n  if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n    return nearest;\n  }\n\n  return Math.floor(x);\n}\n\nfunction pixelCeil(x) {\n  var nearest = Math.round(x);\n\n  if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n    return nearest;\n  }\n\n  return Math.ceil(x);\n}\n\nmodule.exports = function createRegions(options) {\n  var scaleX = options.toWidth / options.width;\n  var scaleY = options.toHeight / options.height;\n  var innerTileWidth = pixelFloor(options.srcTileSize * scaleX) - 2 * options.destTileBorder;\n  var innerTileHeight = pixelFloor(options.srcTileSize * scaleY) - 2 * options.destTileBorder; // prevent infinite loop, this should never happen\n\n  if (innerTileWidth < 1 || innerTileHeight < 1) {\n    throw new Error('Internal error in pica: target tile width/height is too small.');\n  }\n\n  var x, y;\n  var innerX, innerY, toTileWidth, toTileHeight;\n  var tiles = [];\n  var tile; // we go top-to-down instead of left-to-right to make image displayed from top to\n  // doesn in the browser\n\n  for (innerY = 0; innerY < options.toHeight; innerY += innerTileHeight) {\n    for (innerX = 0; innerX < options.toWidth; innerX += innerTileWidth) {\n      x = innerX - options.destTileBorder;\n\n      if (x < 0) {\n        x = 0;\n      }\n\n      toTileWidth = innerX + innerTileWidth + options.destTileBorder - x;\n\n      if (x + toTileWidth >= options.toWidth) {\n        toTileWidth = options.toWidth - x;\n      }\n\n      y = innerY - options.destTileBorder;\n\n      if (y < 0) {\n        y = 0;\n      }\n\n      toTileHeight = innerY + innerTileHeight + options.destTileBorder - y;\n\n      if (y + toTileHeight >= options.toHeight) {\n        toTileHeight = options.toHeight - y;\n      }\n\n      tile = {\n        toX: x,\n        toY: y,\n        toWidth: toTileWidth,\n        toHeight: toTileHeight,\n        toInnerX: innerX,\n        toInnerY: innerY,\n        toInnerWidth: innerTileWidth,\n        toInnerHeight: innerTileHeight,\n        offsetX: x / scaleX - pixelFloor(x / scaleX),\n        offsetY: y / scaleY - pixelFloor(y / scaleY),\n        scaleX: scaleX,\n        scaleY: scaleY,\n        x: pixelFloor(x / scaleX),\n        y: pixelFloor(y / scaleY),\n        width: pixelCeil(toTileWidth / scaleX),\n        height: pixelCeil(toTileHeight / scaleY)\n      };\n      tiles.push(tile);\n    }\n  }\n\n  return tiles;\n};\n\n},{}],12:[function(require,module,exports){\n'use strict';\n\nfunction objClass(obj) {\n  return Object.prototype.toString.call(obj);\n}\n\nmodule.exports.isCanvas = function isCanvas(element) {\n  //return (element.nodeName && element.nodeName.toLowerCase() === 'canvas') ||\n  var cname = objClass(element);\n  return cname === '[object HTMLCanvasElement]'\n  /* browser */\n  || cname === '[object Canvas]'\n  /* node-canvas */\n  ;\n};\n\nmodule.exports.isImage = function isImage(element) {\n  //return element.nodeName && element.nodeName.toLowerCase() === 'img';\n  return objClass(element) === '[object HTMLImageElement]';\n};\n\nmodule.exports.limiter = function limiter(concurrency) {\n  var active = 0,\n      queue = [];\n\n  function roll() {\n    if (active < concurrency && queue.length) {\n      active++;\n      queue.shift()();\n    }\n  }\n\n  return function limit(fn) {\n    return new Promise(function (resolve, reject) {\n      queue.push(function () {\n        fn().then(function (result) {\n          resolve(result);\n          active--;\n          roll();\n        }, function (err) {\n          reject(err);\n          active--;\n          roll();\n        });\n      });\n      roll();\n    });\n  };\n};\n\nmodule.exports.cib_quality_name = function cib_quality_name(num) {\n  switch (num) {\n    case 0:\n      return 'pixelated';\n\n    case 1:\n      return 'low';\n\n    case 2:\n      return 'medium';\n  }\n\n  return 'high';\n};\n\nmodule.exports.cib_support = function cib_support() {\n  return Promise.resolve().then(function () {\n    if (typeof createImageBitmap === 'undefined' || typeof document === 'undefined') {\n      return false;\n    }\n\n    var c = document.createElement('canvas');\n    c.width = 100;\n    c.height = 100;\n    return createImageBitmap(c, 0, 0, 100, 100, {\n      resizeWidth: 10,\n      resizeHeight: 10,\n      resizeQuality: 'high'\n    }).then(function (bitmap) {\n      var status = bitmap.width === 10; // Branch below is filtered on upper level. We do not call resize\n      // detection for basic ImageBitmap.\n      //\n      // https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmap\n      // old Crome 51 has ImageBitmap without .close(). Then this code\n      // will throw and return 'false' as expected.\n      //\n\n      bitmap.close();\n      c = null;\n      return status;\n    });\n  }).catch(function () {\n    return false;\n  });\n};\n\n},{}],13:[function(require,module,exports){\n// Web Worker wrapper for image resize function\n'use strict';\n\nmodule.exports = function () {\n  var MathLib = require('./mathlib');\n\n  var mathLib;\n  /* eslint-disable no-undef */\n\n  onmessage = function onmessage(ev) {\n    var opts = ev.data.opts;\n    if (!mathLib) mathLib = new MathLib(ev.data.features); // Use multimath's sync auto-init. Avoid Promise use in old browsers,\n    // because polyfills are not propagated to webworker.\n\n    var result = mathLib.resizeAndUnsharp(opts);\n    postMessage({\n      result: result\n    }, [result.buffer]);\n  };\n};\n\n},{\"./mathlib\":1}],14:[function(require,module,exports){\n// Calculate Gaussian blur of an image using IIR filter\n// The method is taken from Intel's white paper and code example attached to it:\n// https://software.intel.com/en-us/articles/iir-gaussian-blur-filter\n// -implementation-using-intel-advanced-vector-extensions\n\nvar a0, a1, a2, a3, b1, b2, left_corner, right_corner;\n\nfunction gaussCoef(sigma) {\n  if (sigma < 0.5) {\n    sigma = 0.5;\n  }\n\n  var a = Math.exp(0.726 * 0.726) / sigma,\n      g1 = Math.exp(-a),\n      g2 = Math.exp(-2 * a),\n      k = (1 - g1) * (1 - g1) / (1 + 2 * a * g1 - g2);\n\n  a0 = k;\n  a1 = k * (a - 1) * g1;\n  a2 = k * (a + 1) * g1;\n  a3 = -k * g2;\n  b1 = 2 * g1;\n  b2 = -g2;\n  left_corner = (a0 + a1) / (1 - b1 - b2);\n  right_corner = (a2 + a3) / (1 - b1 - b2);\n\n  // Attempt to force type to FP32.\n  return new Float32Array([ a0, a1, a2, a3, b1, b2, left_corner, right_corner ]);\n}\n\nfunction convolveMono16(src, out, line, coeff, width, height) {\n  // takes src image and writes the blurred and transposed result into out\n\n  var prev_src, curr_src, curr_out, prev_out, prev_prev_out;\n  var src_index, out_index, line_index;\n  var i, j;\n  var coeff_a0, coeff_a1, coeff_b1, coeff_b2;\n\n  for (i = 0; i < height; i++) {\n    src_index = i * width;\n    out_index = i;\n    line_index = 0;\n\n    // left to right\n    prev_src = src[src_index];\n    prev_prev_out = prev_src * coeff[6];\n    prev_out = prev_prev_out;\n\n    coeff_a0 = coeff[0];\n    coeff_a1 = coeff[1];\n    coeff_b1 = coeff[4];\n    coeff_b2 = coeff[5];\n\n    for (j = 0; j < width; j++) {\n      curr_src = src[src_index];\n\n      curr_out = curr_src * coeff_a0 +\n                 prev_src * coeff_a1 +\n                 prev_out * coeff_b1 +\n                 prev_prev_out * coeff_b2;\n\n      prev_prev_out = prev_out;\n      prev_out = curr_out;\n      prev_src = curr_src;\n\n      line[line_index] = prev_out;\n      line_index++;\n      src_index++;\n    }\n\n    src_index--;\n    line_index--;\n    out_index += height * (width - 1);\n\n    // right to left\n    prev_src = src[src_index];\n    prev_prev_out = prev_src * coeff[7];\n    prev_out = prev_prev_out;\n    curr_src = prev_src;\n\n    coeff_a0 = coeff[2];\n    coeff_a1 = coeff[3];\n\n    for (j = width - 1; j >= 0; j--) {\n      curr_out = curr_src * coeff_a0 +\n                 prev_src * coeff_a1 +\n                 prev_out * coeff_b1 +\n                 prev_prev_out * coeff_b2;\n\n      prev_prev_out = prev_out;\n      prev_out = curr_out;\n\n      prev_src = curr_src;\n      curr_src = src[src_index];\n\n      out[out_index] = line[line_index] + prev_out;\n\n      src_index--;\n      line_index--;\n      out_index -= height;\n    }\n  }\n}\n\n\nfunction blurMono16(src, width, height, radius) {\n  // Quick exit on zero radius\n  if (!radius) { return; }\n\n  var out      = new Uint16Array(src.length),\n      tmp_line = new Float32Array(Math.max(width, height));\n\n  var coeff = gaussCoef(radius);\n\n  convolveMono16(src, out, tmp_line, coeff, width, height, radius);\n  convolveMono16(out, src, tmp_line, coeff, height, width, radius);\n}\n\nmodule.exports = blurMono16;\n\n},{}],15:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}],16:[function(require,module,exports){\n'use strict';\n\n\nvar assign         = require('object-assign');\nvar base64decode   = require('./lib/base64decode');\nvar hasWebAssembly = require('./lib/wa_detect');\n\n\nvar DEFAULT_OPTIONS = {\n  js: true,\n  wasm: true\n};\n\n\nfunction MultiMath(options) {\n  if (!(this instanceof MultiMath)) return new MultiMath(options);\n\n  var opts = assign({}, DEFAULT_OPTIONS, options || {});\n\n  this.options         = opts;\n\n  this.__cache         = {};\n  this.has_wasm        = hasWebAssembly();\n\n  this.__init_promise  = null;\n  this.__modules       = opts.modules || {};\n  this.__memory        = null;\n  this.__wasm          = {};\n\n  this.__isLE = ((new Uint32Array((new Uint8Array([ 1, 0, 0, 0 ])).buffer))[0] === 1);\n\n  if (!this.options.js && !this.options.wasm) {\n    throw new Error('mathlib: at least \"js\" or \"wasm\" should be enabled');\n  }\n}\n\n\nMultiMath.prototype.use = function (module) {\n  this.__modules[module.name] = module;\n\n  // Pin the best possible implementation\n  if (!this.has_wasm || !this.options.wasm || !module.wasm_fn) {\n    this[module.name] = module.fn;\n  } else {\n    this[module.name] = module.wasm_fn;\n  }\n\n  return this;\n};\n\n\nMultiMath.prototype.init = function () {\n  if (this.__init_promise) return this.__init_promise;\n\n  if (!this.options.js && this.options.wasm && !this.has_wasm) {\n    return Promise.reject(new Error('mathlib: only \"wasm\" was enabled, but it\\'s not supported'));\n  }\n\n  var self = this;\n\n  this.__init_promise = Promise.all(Object.keys(self.__modules).map(function (name) {\n    var module = self.__modules[name];\n\n    if (!self.has_wasm || !self.options.wasm || !module.wasm_fn) return null;\n\n    // If already compiled - exit\n    if (self.__wasm[name]) return null;\n\n    // Compile wasm source\n    return WebAssembly.compile(self.__base64decode(module.wasm_src))\n      .then(function (m) { self.__wasm[name] = m; });\n  }))\n    .then(function () { return self; });\n\n  return this.__init_promise;\n};\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Methods below are for internal use from plugins\n\n\n// Simple decode base64 to typed array. Useful to load embedded webassembly\n// code. You probably don't need to call this method directly.\n//\nMultiMath.prototype.__base64decode = base64decode;\n\n\n// Increase current memory to include specified number of bytes. Do nothing if\n// size is already ok. You probably don't need to call this method directly,\n// because it will be invoked from `.__instance()`.\n//\nMultiMath.prototype.__reallocate = function mem_grow_to(bytes) {\n  if (!this.__memory) {\n    this.__memory = new WebAssembly.Memory({\n      initial: Math.ceil(bytes / (64 * 1024))\n    });\n    return this.__memory;\n  }\n\n  var mem_size = this.__memory.buffer.byteLength;\n\n  if (mem_size < bytes) {\n    this.__memory.grow(Math.ceil((bytes - mem_size) / (64 * 1024)));\n  }\n\n  return this.__memory;\n};\n\n\n// Returns instantinated webassembly item by name, with specified memory size\n// and environment.\n// - use cache if available\n// - do sync module init, if async init was not called earlier\n// - allocate memory if not enougth\n// - can export functions to webassembly via \"env_extra\",\n//   for example, { exp: Math.exp }\n//\nMultiMath.prototype.__instance = function instance(name, memsize, env_extra) {\n  if (memsize) this.__reallocate(memsize);\n\n  // If .init() was not called, do sync compile\n  if (!this.__wasm[name]) {\n    var module = this.__modules[name];\n    this.__wasm[name] = new WebAssembly.Module(this.__base64decode(module.wasm_src));\n  }\n\n  if (!this.__cache[name]) {\n    var env_base = {\n      memoryBase: 0,\n      memory: this.__memory,\n      tableBase: 0,\n      table: new WebAssembly.Table({ initial: 0, element: 'anyfunc' })\n    };\n\n    this.__cache[name] = new WebAssembly.Instance(this.__wasm[name], {\n      env: assign(env_base, env_extra || {})\n    });\n  }\n\n  return this.__cache[name];\n};\n\n\n// Helper to calculate memory aligh for pointers. Webassembly does not require\n// this, but you may wish to experiment. Default base = 8;\n//\nMultiMath.prototype.__align = function align(number, base) {\n  base = base || 8;\n  var reminder = number % base;\n  return number + (reminder ? base - reminder : 0);\n};\n\n\nmodule.exports = MultiMath;\n\n},{\"./lib/base64decode\":17,\"./lib/wa_detect\":23,\"object-assign\":24}],17:[function(require,module,exports){\n// base64 decode str -> Uint8Array, to load WA modules\n//\n'use strict';\n\n\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n\nmodule.exports = function base64decode(str) {\n  var input = str.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max   = input.length;\n\n  var out = new Uint8Array((max * 3) >> 2);\n\n  // Collect by 6*4 bits (3 bytes)\n\n  var bits = 0;\n  var ptr  = 0;\n\n  for (var idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      out[ptr++] = (bits >> 16) & 0xFF;\n      out[ptr++] = (bits >> 8) & 0xFF;\n      out[ptr++] = bits & 0xFF;\n    }\n\n    bits = (bits << 6) | BASE64_MAP.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  var tailbits = (max % 4) * 6;\n\n  if (tailbits === 0) {\n    out[ptr++] = (bits >> 16) & 0xFF;\n    out[ptr++] = (bits >> 8) & 0xFF;\n    out[ptr++] = bits & 0xFF;\n  } else if (tailbits === 18) {\n    out[ptr++] = (bits >> 10) & 0xFF;\n    out[ptr++] = (bits >> 2) & 0xFF;\n  } else if (tailbits === 12) {\n    out[ptr++] = (bits >> 4) & 0xFF;\n  }\n\n  return out;\n};\n\n},{}],18:[function(require,module,exports){\n// Calculates 16-bit precision HSL lightness from 8-bit rgba buffer\n//\n'use strict';\n\n\nmodule.exports = function hsl_l16_js(img, width, height) {\n  var size = width * height;\n  var out = new Uint16Array(size);\n  var r, g, b, min, max;\n  for (var i = 0; i < size; i++) {\n    r = img[4 * i];\n    g = img[4 * i + 1];\n    b = img[4 * i + 2];\n    max = (r >= g && r >= b) ? r : (g >= b && g >= r) ? g : b;\n    min = (r <= g && r <= b) ? r : (g <= b && g <= r) ? g : b;\n    out[i] = (max + min) * 257 >> 1;\n  }\n  return out;\n};\n\n},{}],19:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  name:     'unsharp_mask',\n  fn:       require('./unsharp_mask'),\n  wasm_fn:  require('./unsharp_mask_wasm'),\n  wasm_src: require('./unsharp_mask_wasm_base64')\n};\n\n},{\"./unsharp_mask\":20,\"./unsharp_mask_wasm\":21,\"./unsharp_mask_wasm_base64\":22}],20:[function(require,module,exports){\n// Unsharp mask filter\n//\n// http://stackoverflow.com/a/23322820/1031804\n// USM(O) = O + (2 * (Amount / 100) * (O - GB))\n// GB - gaussian blur.\n//\n// Image is converted from RGB to HSL, unsharp mask is applied to the\n// lightness channel and then image is converted back to RGB.\n//\n'use strict';\n\n\nvar glur_mono16 = require('glur/mono16');\nvar hsl_l16     = require('./hsl_l16');\n\n\nmodule.exports = function unsharp(img, width, height, amount, radius, threshold) {\n  var r, g, b;\n  var h, s, l;\n  var min, max;\n  var m1, m2, hShifted;\n  var diff, iTimes4;\n\n  if (amount === 0 || radius < 0.5) {\n    return;\n  }\n  if (radius > 2.0) {\n    radius = 2.0;\n  }\n\n  var lightness = hsl_l16(img, width, height);\n\n  var blured = new Uint16Array(lightness); // copy, because blur modify src\n\n  glur_mono16(blured, width, height, radius);\n\n  var amountFp = (amount / 100 * 0x1000 + 0.5)|0;\n  var thresholdFp = (threshold * 257)|0;\n\n  var size = width * height;\n\n  /* eslint-disable indent */\n  for (var i = 0; i < size; i++) {\n    diff = 2 * (lightness[i] - blured[i]);\n\n    if (Math.abs(diff) >= thresholdFp) {\n      iTimes4 = i * 4;\n      r = img[iTimes4];\n      g = img[iTimes4 + 1];\n      b = img[iTimes4 + 2];\n\n      // convert RGB to HSL\n      // take RGB, 8-bit unsigned integer per each channel\n      // save HSL, H and L are 16-bit unsigned integers, S is 12-bit unsigned integer\n      // math is taken from here: http://www.easyrgb.com/index.php?X=MATH&H=18\n      // and adopted to be integer (fixed point in fact) for sake of performance\n      max = (r >= g && r >= b) ? r : (g >= r && g >= b) ? g : b; // min and max are in [0..0xff]\n      min = (r <= g && r <= b) ? r : (g <= r && g <= b) ? g : b;\n      l = (max + min) * 257 >> 1; // l is in [0..0xffff] that is caused by multiplication by 257\n\n      if (min === max) {\n        h = s = 0;\n      } else {\n        s = (l <= 0x7fff) ?\n          (((max - min) * 0xfff) / (max + min))|0 :\n          (((max - min) * 0xfff) / (2 * 0xff - max - min))|0; // s is in [0..0xfff]\n        // h could be less 0, it will be fixed in backward conversion to RGB, |h| <= 0xffff / 6\n        h = (r === max) ? (((g - b) * 0xffff) / (6 * (max - min)))|0\n          : (g === max) ? 0x5555 + ((((b - r) * 0xffff) / (6 * (max - min)))|0) // 0x5555 == 0xffff / 3\n          : 0xaaaa + ((((r - g) * 0xffff) / (6 * (max - min)))|0); // 0xaaaa == 0xffff * 2 / 3\n      }\n\n      // add unsharp mask mask to the lightness channel\n      l += (amountFp * diff + 0x800) >> 12;\n      if (l > 0xffff) {\n        l = 0xffff;\n      } else if (l < 0) {\n        l = 0;\n      }\n\n      // convert HSL back to RGB\n      // for information about math look above\n      if (s === 0) {\n        r = g = b = l >> 8;\n      } else {\n        m2 = (l <= 0x7fff) ? (l * (0x1000 + s) + 0x800) >> 12 :\n          l  + (((0xffff - l) * s + 0x800) >>  12);\n        m1 = 2 * l - m2 >> 8;\n        m2 >>= 8;\n        // save result to RGB channels\n        // R channel\n        hShifted = (h + 0x5555) & 0xffff; // 0x5555 == 0xffff / 3\n        r = (hShifted >= 0xaaaa) ? m1 // 0xaaaa == 0xffff * 2 / 3\n          : (hShifted >= 0x7fff) ?  m1 + ((m2 - m1) * 6 * (0xaaaa - hShifted) + 0x8000 >> 16)\n          : (hShifted >= 0x2aaa) ? m2 // 0x2aaa == 0xffff / 6\n          : m1 + ((m2 - m1) * 6 * hShifted + 0x8000 >> 16);\n        // G channel\n        hShifted = h & 0xffff;\n        g = (hShifted >= 0xaaaa) ? m1 // 0xaaaa == 0xffff * 2 / 3\n          : (hShifted >= 0x7fff) ?  m1 + ((m2 - m1) * 6 * (0xaaaa - hShifted) + 0x8000 >> 16)\n          : (hShifted >= 0x2aaa) ? m2 // 0x2aaa == 0xffff / 6\n          : m1 + ((m2 - m1) * 6 * hShifted + 0x8000 >> 16);\n        // B channel\n        hShifted = (h - 0x5555) & 0xffff;\n        b = (hShifted >= 0xaaaa) ? m1 // 0xaaaa == 0xffff * 2 / 3\n          : (hShifted >= 0x7fff) ?  m1 + ((m2 - m1) * 6 * (0xaaaa - hShifted) + 0x8000 >> 16)\n          : (hShifted >= 0x2aaa) ? m2 // 0x2aaa == 0xffff / 6\n          : m1 + ((m2 - m1) * 6 * hShifted + 0x8000 >> 16);\n      }\n\n      img[iTimes4] = r;\n      img[iTimes4 + 1] = g;\n      img[iTimes4 + 2] = b;\n    }\n  }\n};\n\n},{\"./hsl_l16\":18,\"glur/mono16\":14}],21:[function(require,module,exports){\n'use strict';\n\n\nmodule.exports = function unsharp(img, width, height, amount, radius, threshold) {\n  if (amount === 0 || radius < 0.5) {\n    return;\n  }\n\n  if (radius > 2.0) {\n    radius = 2.0;\n  }\n\n  var pixels = width * height;\n\n  var img_bytes_cnt        = pixels * 4;\n  var hsl_bytes_cnt        = pixels * 2;\n  var blur_bytes_cnt       = pixels * 2;\n  var blur_line_byte_cnt   = Math.max(width, height) * 4; // float32 array\n  var blur_coeffs_byte_cnt = 8 * 4; // float32 array\n\n  var img_offset         = 0;\n  var hsl_offset         = img_bytes_cnt;\n  var blur_offset        = hsl_offset + hsl_bytes_cnt;\n  var blur_tmp_offset    = blur_offset + blur_bytes_cnt;\n  var blur_line_offset   = blur_tmp_offset + blur_bytes_cnt;\n  var blur_coeffs_offset = blur_line_offset + blur_line_byte_cnt;\n\n  var instance = this.__instance(\n    'unsharp_mask',\n    img_bytes_cnt + hsl_bytes_cnt + blur_bytes_cnt * 2 + blur_line_byte_cnt + blur_coeffs_byte_cnt,\n    { exp: Math.exp }\n  );\n\n  // 32-bit copy is much faster in chrome\n  var img32 = new Uint32Array(img.buffer);\n  var mem32 = new Uint32Array(this.__memory.buffer);\n  mem32.set(img32);\n\n  // HSL\n  var fn = instance.exports.hsl_l16 || instance.exports._hsl_l16;\n  fn(img_offset, hsl_offset, width, height);\n\n  // BLUR\n  fn = instance.exports.blurMono16 || instance.exports._blurMono16;\n  fn(hsl_offset, blur_offset, blur_tmp_offset,\n    blur_line_offset, blur_coeffs_offset, width, height, radius);\n\n  // UNSHARP\n  fn = instance.exports.unsharp || instance.exports._unsharp;\n  fn(img_offset, img_offset, hsl_offset,\n    blur_offset, width, height, amount, threshold);\n\n  // 32-bit copy is much faster in chrome\n  img32.set(new Uint32Array(this.__memory.buffer, 0, pixels));\n};\n\n},{}],22:[function(require,module,exports){\n// This is autogenerated file from math.wasm, don't edit.\n//\n'use strict';\n\n/* eslint-disable max-len */\nmodule.exports = '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';\n\n},{}],23:[function(require,module,exports){\n// Detect WebAssembly support.\n// - Check global WebAssembly object\n// - Try to load simple module (can be disabled via CSP)\n//\n'use strict';\n\n\nvar wa;\n\n\nmodule.exports = function hasWebAssembly() {\n  // use cache if called before;\n  if (typeof wa !== 'undefined') return wa;\n\n  wa = false;\n\n  if (typeof WebAssembly === 'undefined') return wa;\n\n  // If WebAssenbly is disabled, code can throw on compile\n  try {\n    // https://github.com/brion/min-wasm-fail/blob/master/min-wasm-fail.in.js\n    // Additional check that WA internals are correct\n\n    /* eslint-disable comma-spacing, max-len */\n    var bin      = new Uint8Array([ 0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11 ]);\n    var module   = new WebAssembly.Module(bin);\n    var instance = new WebAssembly.Instance(module, {});\n\n    // test storing to and loading from a non-zero location via a parameter.\n    // Safari on iOS 11.2.5 returns 0 unexpectedly at non-zero locations\n    if (instance.exports.test(4) !== 0) wa = true;\n\n    return wa;\n  } catch (__) {}\n\n  return wa;\n};\n\n},{}],24:[function(require,module,exports){\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n},{}],25:[function(require,module,exports){\nvar bundleFn = arguments[3];\nvar sources = arguments[4];\nvar cache = arguments[5];\n\nvar stringify = JSON.stringify;\n\nmodule.exports = function (fn, options) {\n    var wkey;\n    var cacheKeys = Object.keys(cache);\n\n    for (var i = 0, l = cacheKeys.length; i < l; i++) {\n        var key = cacheKeys[i];\n        var exp = cache[key].exports;\n        // Using babel as a transpiler to use esmodule, the export will always\n        // be an object with the default export as a property of it. To ensure\n        // the existing api and babel esmodule exports are both supported we\n        // check for both\n        if (exp === fn || exp && exp.default === fn) {\n            wkey = key;\n            break;\n        }\n    }\n\n    if (!wkey) {\n        wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n        var wcache = {};\n        for (var i = 0, l = cacheKeys.length; i < l; i++) {\n            var key = cacheKeys[i];\n            wcache[key] = key;\n        }\n        sources[wkey] = [\n            'function(require,module,exports){' + fn + '(self); }',\n            wcache\n        ];\n    }\n    var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n\n    var scache = {}; scache[wkey] = wkey;\n    sources[skey] = [\n        'function(require,module,exports){' +\n            // try to call default if defined to also support babel esmodule exports\n            'var f = require(' + stringify(wkey) + ');' +\n            '(f.default ? f.default : f)(self);' +\n        '}',\n        scache\n    ];\n\n    var workerSources = {};\n    resolveSources(skey);\n\n    function resolveSources(key) {\n        workerSources[key] = true;\n\n        for (var depPath in sources[key][1]) {\n            var depKey = sources[key][1][depPath];\n            if (!workerSources[depKey]) {\n                resolveSources(depKey);\n            }\n        }\n    }\n\n    var src = '(' + bundleFn + ')({'\n        + Object.keys(workerSources).map(function (key) {\n            return stringify(key) + ':['\n                + sources[key][0]\n                + ',' + stringify(sources[key][1]) + ']'\n            ;\n        }).join(',')\n        + '},{},[' + stringify(skey) + '])'\n    ;\n\n    var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n    var blob = new Blob([src], { type: 'text/javascript' });\n    if (options && options.bare) { return blob; }\n    var workerUrl = URL.createObjectURL(blob);\n    var worker = new Worker(workerUrl);\n    worker.objectURL = workerUrl;\n    return worker;\n};\n\n},{}],\"/\":[function(require,module,exports){\n'use strict';\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar assign = require('object-assign');\n\nvar webworkify = require('webworkify');\n\nvar MathLib = require('./lib/mathlib');\n\nvar Pool = require('./lib/pool');\n\nvar utils = require('./lib/utils');\n\nvar worker = require('./lib/worker');\n\nvar createStages = require('./lib/stepper');\n\nvar createRegions = require('./lib/tiler'); // Deduplicate pools & limiters with the same configs\n// when user creates multiple pica instances.\n\n\nvar singletones = {};\nvar NEED_SAFARI_FIX = false;\n\ntry {\n  if (typeof navigator !== 'undefined' && navigator.userAgent) {\n    NEED_SAFARI_FIX = navigator.userAgent.indexOf('Safari') >= 0;\n  }\n} catch (e) {}\n\nvar concurrency = 1;\n\nif (typeof navigator !== 'undefined') {\n  concurrency = Math.min(navigator.hardwareConcurrency || 1, 4);\n}\n\nvar DEFAULT_PICA_OPTS = {\n  tile: 1024,\n  concurrency: concurrency,\n  features: ['js', 'wasm', 'ww'],\n  idle: 2000\n};\nvar DEFAULT_RESIZE_OPTS = {\n  quality: 3,\n  alpha: false,\n  unsharpAmount: 0,\n  unsharpRadius: 0.0,\n  unsharpThreshold: 0\n};\nvar CAN_NEW_IMAGE_DATA;\nvar CAN_CREATE_IMAGE_BITMAP;\n\nfunction workerFabric() {\n  return {\n    value: webworkify(worker),\n    destroy: function destroy() {\n      this.value.terminate();\n\n      if (typeof window !== 'undefined') {\n        var url = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n        if (url && url.revokeObjectURL && this.value.objectURL) {\n          url.revokeObjectURL(this.value.objectURL);\n        }\n      }\n    }\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n// API methods\n\n\nfunction Pica(options) {\n  if (!(this instanceof Pica)) return new Pica(options);\n  this.options = assign({}, DEFAULT_PICA_OPTS, options || {});\n  var limiter_key = \"lk_\".concat(this.options.concurrency); // Share limiters to avoid multiple parallel workers when user creates\n  // multiple pica instances.\n\n  this.__limit = singletones[limiter_key] || utils.limiter(this.options.concurrency);\n  if (!singletones[limiter_key]) singletones[limiter_key] = this.__limit; // List of supported features, according to options & browser/node.js\n\n  this.features = {\n    js: false,\n    // pure JS implementation, can be disabled for testing\n    wasm: false,\n    // webassembly implementation for heavy functions\n    cib: false,\n    // resize via createImageBitmap (only FF at this moment)\n    ww: false // webworkers\n\n  };\n  this.__workersPool = null; // Store requested features for webworkers\n\n  this.__requested_features = [];\n  this.__mathlib = null;\n}\n\nPica.prototype.init = function () {\n  var _this = this;\n\n  if (this.__initPromise) return this.__initPromise; // Test if we can create ImageData without canvas and memory copy\n\n  if (CAN_NEW_IMAGE_DATA !== false && CAN_NEW_IMAGE_DATA !== true) {\n    CAN_NEW_IMAGE_DATA = false;\n\n    if (typeof ImageData !== 'undefined' && typeof Uint8ClampedArray !== 'undefined') {\n      try {\n        /* eslint-disable no-new */\n        new ImageData(new Uint8ClampedArray(400), 10, 10);\n        CAN_NEW_IMAGE_DATA = true;\n      } catch (__) {}\n    }\n  } // ImageBitmap can be effective in 2 places:\n  //\n  // 1. Threaded jpeg unpack (basic)\n  // 2. Built-in resize (blocked due problem in chrome, see issue #89)\n  //\n  // For basic use we also need ImageBitmap wo support .close() method,\n  // see https://developer.mozilla.org/ru/docs/Web/API/ImageBitmap\n\n\n  if (CAN_CREATE_IMAGE_BITMAP !== false && CAN_CREATE_IMAGE_BITMAP !== true) {\n    CAN_CREATE_IMAGE_BITMAP = false;\n\n    if (typeof ImageBitmap !== 'undefined') {\n      if (ImageBitmap.prototype && ImageBitmap.prototype.close) {\n        CAN_CREATE_IMAGE_BITMAP = true;\n      } else {\n        this.debug('ImageBitmap does not support .close(), disabled');\n      }\n    }\n  }\n\n  var features = this.options.features.slice();\n\n  if (features.indexOf('all') >= 0) {\n    features = ['cib', 'wasm', 'js', 'ww'];\n  }\n\n  this.__requested_features = features;\n  this.__mathlib = new MathLib(features); // Check WebWorker support if requested\n\n  if (features.indexOf('ww') >= 0) {\n    if (typeof window !== 'undefined' && 'Worker' in window) {\n      // IE <= 11 don't allow to create webworkers from string. We should check it.\n      // https://connect.microsoft.com/IE/feedback/details/801810/web-workers-from-blob-urls-in-ie-10-and-11\n      try {\n        var wkr = require('webworkify')(function () {});\n\n        wkr.terminate();\n        this.features.ww = true; // pool uniqueness depends on pool config + webworker config\n\n        var wpool_key = \"wp_\".concat(JSON.stringify(this.options));\n\n        if (singletones[wpool_key]) {\n          this.__workersPool = singletones[wpool_key];\n        } else {\n          this.__workersPool = new Pool(workerFabric, this.options.idle);\n          singletones[wpool_key] = this.__workersPool;\n        }\n      } catch (__) {}\n    }\n  }\n\n  var initMath = this.__mathlib.init().then(function (mathlib) {\n    // Copy detected features\n    assign(_this.features, mathlib.features);\n  });\n\n  var checkCibResize;\n\n  if (!CAN_CREATE_IMAGE_BITMAP) {\n    checkCibResize = Promise.resolve(false);\n  } else {\n    checkCibResize = utils.cib_support().then(function (status) {\n      if (_this.features.cib && features.indexOf('cib') < 0) {\n        _this.debug('createImageBitmap() resize supported, but disabled by config');\n\n        return;\n      }\n\n      if (features.indexOf('cib') >= 0) _this.features.cib = status;\n    });\n  } // Init math lib. That's async because can load some\n\n\n  this.__initPromise = Promise.all([initMath, checkCibResize]).then(function () {\n    return _this;\n  });\n  return this.__initPromise;\n};\n\nPica.prototype.resize = function (from, to, options) {\n  var _this2 = this;\n\n  this.debug('Start resize...');\n  var opts = assign({}, DEFAULT_RESIZE_OPTS);\n\n  if (!isNaN(options)) {\n    opts = assign(opts, {\n      quality: options\n    });\n  } else if (options) {\n    opts = assign(opts, options);\n  }\n\n  opts.toWidth = to.width;\n  opts.toHeight = to.height;\n  opts.width = from.naturalWidth || from.width;\n  opts.height = from.naturalHeight || from.height; // Prevent stepper from infinite loop\n\n  if (to.width === 0 || to.height === 0) {\n    return Promise.reject(new Error(\"Invalid output size: \".concat(to.width, \"x\").concat(to.height)));\n  }\n\n  if (opts.unsharpRadius > 2) opts.unsharpRadius = 2;\n  var canceled = false;\n  var cancelToken = null;\n\n  if (opts.cancelToken) {\n    // Wrap cancelToken to avoid successive resolve & set flag\n    cancelToken = opts.cancelToken.then(function (data) {\n      canceled = true;\n      throw data;\n    }, function (err) {\n      canceled = true;\n      throw err;\n    });\n  }\n\n  var DEST_TILE_BORDER = 3; // Max possible filter window size\n\n  var destTileBorder = Math.ceil(Math.max(DEST_TILE_BORDER, 2.5 * opts.unsharpRadius | 0));\n  return this.init().then(function () {\n    if (canceled) return cancelToken; // if createImageBitmap supports resize, just do it and return\n\n    if (_this2.features.cib) {\n      var toCtx = to.getContext('2d', {\n        alpha: Boolean(opts.alpha)\n      });\n\n      _this2.debug('Resize via createImageBitmap()');\n\n      return createImageBitmap(from, {\n        resizeWidth: opts.toWidth,\n        resizeHeight: opts.toHeight,\n        resizeQuality: utils.cib_quality_name(opts.quality)\n      }).then(function (imageBitmap) {\n        if (canceled) return cancelToken; // if no unsharp - draw directly to output canvas\n\n        if (!opts.unsharpAmount) {\n          toCtx.drawImage(imageBitmap, 0, 0);\n          imageBitmap.close();\n          toCtx = null;\n\n          _this2.debug('Finished!');\n\n          return to;\n        }\n\n        _this2.debug('Unsharp result');\n\n        var tmpCanvas = document.createElement('canvas');\n        tmpCanvas.width = opts.toWidth;\n        tmpCanvas.height = opts.toHeight;\n        var tmpCtx = tmpCanvas.getContext('2d', {\n          alpha: Boolean(opts.alpha)\n        });\n        tmpCtx.drawImage(imageBitmap, 0, 0);\n        imageBitmap.close();\n        var iData = tmpCtx.getImageData(0, 0, opts.toWidth, opts.toHeight);\n\n        _this2.__mathlib.unsharp(iData.data, opts.toWidth, opts.toHeight, opts.unsharpAmount, opts.unsharpRadius, opts.unsharpThreshold);\n\n        toCtx.putImageData(iData, 0, 0);\n        iData = tmpCtx = tmpCanvas = toCtx = null;\n\n        _this2.debug('Finished!');\n\n        return to;\n      });\n    } //\n    // No easy way, let's resize manually via arrays\n    //\n    // Share cache between calls:\n    //\n    // - wasm instance\n    // - wasm memory object\n    //\n\n\n    var cache = {}; // Call resizer in webworker or locally, depending on config\n\n    var invokeResize = function invokeResize(opts) {\n      return Promise.resolve().then(function () {\n        if (!_this2.features.ww) return _this2.__mathlib.resizeAndUnsharp(opts, cache);\n        return new Promise(function (resolve, reject) {\n          var w = _this2.__workersPool.acquire();\n\n          if (cancelToken) cancelToken.catch(function (err) {\n            return reject(err);\n          });\n\n          w.value.onmessage = function (ev) {\n            w.release();\n            if (ev.data.err) reject(ev.data.err);else resolve(ev.data.result);\n          };\n\n          w.value.postMessage({\n            opts: opts,\n            features: _this2.__requested_features,\n            preload: {\n              wasm_nodule: _this2.__mathlib.__\n            }\n          }, [opts.src.buffer]);\n        });\n      });\n    };\n\n    var tileAndResize = function tileAndResize(from, to, opts) {\n      var srcCtx;\n      var srcImageBitmap;\n      var toCtx;\n\n      var processTile = function processTile(tile) {\n        return _this2.__limit(function () {\n          if (canceled) return cancelToken;\n          var srcImageData; // Extract tile RGBA buffer, depending on input type\n\n          if (utils.isCanvas(from)) {\n            _this2.debug('Get tile pixel data'); // If input is Canvas - extract region data directly\n\n\n            srcImageData = srcCtx.getImageData(tile.x, tile.y, tile.width, tile.height);\n          } else {\n            // If input is Image or decoded to ImageBitmap,\n            // draw region to temporary canvas and extract data from it\n            //\n            // Note! Attempt to reuse this canvas causes significant slowdown in chrome\n            //\n            _this2.debug('Draw tile imageBitmap/image to temporary canvas');\n\n            var tmpCanvas = document.createElement('canvas');\n            tmpCanvas.width = tile.width;\n            tmpCanvas.height = tile.height;\n            var tmpCtx = tmpCanvas.getContext('2d', {\n              alpha: Boolean(opts.alpha)\n            });\n            tmpCtx.globalCompositeOperation = 'copy';\n            tmpCtx.drawImage(srcImageBitmap || from, tile.x, tile.y, tile.width, tile.height, 0, 0, tile.width, tile.height);\n\n            _this2.debug('Get tile pixel data');\n\n            srcImageData = tmpCtx.getImageData(0, 0, tile.width, tile.height);\n            tmpCtx = tmpCanvas = null;\n          }\n\n          var o = {\n            src: srcImageData.data,\n            width: tile.width,\n            height: tile.height,\n            toWidth: tile.toWidth,\n            toHeight: tile.toHeight,\n            scaleX: tile.scaleX,\n            scaleY: tile.scaleY,\n            offsetX: tile.offsetX,\n            offsetY: tile.offsetY,\n            quality: opts.quality,\n            alpha: opts.alpha,\n            unsharpAmount: opts.unsharpAmount,\n            unsharpRadius: opts.unsharpRadius,\n            unsharpThreshold: opts.unsharpThreshold\n          };\n\n          _this2.debug('Invoke resize math');\n\n          return Promise.resolve().then(function () {\n            return invokeResize(o);\n          }).then(function (result) {\n            if (canceled) return cancelToken;\n            srcImageData = null;\n            var toImageData;\n\n            _this2.debug('Convert raw rgba tile result to ImageData');\n\n            if (CAN_NEW_IMAGE_DATA) {\n              // this branch is for modern browsers\n              // If `new ImageData()` & Uint8ClampedArray suported\n              toImageData = new ImageData(new Uint8ClampedArray(result), tile.toWidth, tile.toHeight);\n            } else {\n              // fallback for `node-canvas` and old browsers\n              // (IE11 has ImageData but does not support `new ImageData()`)\n              toImageData = toCtx.createImageData(tile.toWidth, tile.toHeight);\n\n              if (toImageData.data.set) {\n                toImageData.data.set(result);\n              } else {\n                // IE9 don't have `.set()`\n                for (var i = toImageData.data.length - 1; i >= 0; i--) {\n                  toImageData.data[i] = result[i];\n                }\n              }\n            }\n\n            _this2.debug('Draw tile');\n\n            if (NEED_SAFARI_FIX) {\n              // Safari draws thin white stripes between tiles without this fix\n              toCtx.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth + 1e-5, tile.toInnerHeight + 1e-5);\n            } else {\n              toCtx.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth, tile.toInnerHeight);\n            }\n\n            return null;\n          });\n        });\n      }; // Need to normalize data source first. It can be canvas or image.\n      // If image - try to decode in background if possible\n\n\n      return Promise.resolve().then(function () {\n        toCtx = to.getContext('2d', {\n          alpha: Boolean(opts.alpha)\n        });\n\n        if (utils.isCanvas(from)) {\n          srcCtx = from.getContext('2d', {\n            alpha: Boolean(opts.alpha)\n          });\n          return null;\n        }\n\n        if (utils.isImage(from)) {\n          // try do decode image in background for faster next operations\n          if (!CAN_CREATE_IMAGE_BITMAP) return null;\n\n          _this2.debug('Decode image via createImageBitmap');\n\n          return createImageBitmap(from).then(function (imageBitmap) {\n            srcImageBitmap = imageBitmap;\n          });\n        }\n\n        throw new Error('\".from\" should be image or canvas');\n      }).then(function () {\n        if (canceled) return cancelToken;\n\n        _this2.debug('Calculate tiles'); //\n        // Here we are with \"normalized\" source,\n        // follow to tiling\n        //\n\n\n        var regions = createRegions({\n          width: opts.width,\n          height: opts.height,\n          srcTileSize: _this2.options.tile,\n          toWidth: opts.toWidth,\n          toHeight: opts.toHeight,\n          destTileBorder: destTileBorder\n        });\n        var jobs = regions.map(function (tile) {\n          return processTile(tile);\n        });\n\n        function cleanup() {\n          if (srcImageBitmap) {\n            srcImageBitmap.close();\n            srcImageBitmap = null;\n          }\n        }\n\n        _this2.debug('Process tiles');\n\n        return Promise.all(jobs).then(function () {\n          _this2.debug('Finished!');\n\n          cleanup();\n          return to;\n        }, function (err) {\n          cleanup();\n          throw err;\n        });\n      });\n    };\n\n    var processStages = function processStages(stages, from, to, opts) {\n      if (canceled) return cancelToken;\n\n      var _stages$shift = stages.shift(),\n          _stages$shift2 = _slicedToArray(_stages$shift, 2),\n          toWidth = _stages$shift2[0],\n          toHeight = _stages$shift2[1];\n\n      var isLastStage = stages.length === 0;\n      opts = assign({}, opts, {\n        toWidth: toWidth,\n        toHeight: toHeight,\n        // only use user-defined quality for the last stage,\n        // use simpler (Hamming) filter for the first stages where\n        // scale factor is large enough (more than 2-3)\n        quality: isLastStage ? opts.quality : Math.min(1, opts.quality)\n      });\n      var tmpCanvas;\n\n      if (!isLastStage) {\n        // create temporary canvas\n        tmpCanvas = document.createElement('canvas');\n        tmpCanvas.width = toWidth;\n        tmpCanvas.height = toHeight;\n      }\n\n      return tileAndResize(from, isLastStage ? to : tmpCanvas, opts).then(function () {\n        if (isLastStage) return to;\n        opts.width = toWidth;\n        opts.height = toHeight;\n        return processStages(stages, tmpCanvas, to, opts);\n      });\n    };\n\n    var stages = createStages(opts.width, opts.height, opts.toWidth, opts.toHeight, _this2.options.tile, destTileBorder);\n    return processStages(stages, from, to, opts);\n  });\n}; // RGBA buffer resize\n//\n\n\nPica.prototype.resizeBuffer = function (options) {\n  var _this3 = this;\n\n  var opts = assign({}, DEFAULT_RESIZE_OPTS, options);\n  return this.init().then(function () {\n    return _this3.__mathlib.resizeAndUnsharp(opts);\n  });\n};\n\nPica.prototype.toBlob = function (canvas, mimeType, quality) {\n  mimeType = mimeType || 'image/png';\n  return new Promise(function (resolve) {\n    if (canvas.toBlob) {\n      canvas.toBlob(function (blob) {\n        return resolve(blob);\n      }, mimeType, quality);\n      return;\n    } // Fallback for old browsers\n\n\n    var asString = atob(canvas.toDataURL(mimeType, quality).split(',')[1]);\n    var len = asString.length;\n    var asBuffer = new Uint8Array(len);\n\n    for (var i = 0; i < len; i++) {\n      asBuffer[i] = asString.charCodeAt(i);\n    }\n\n    resolve(new Blob([asBuffer], {\n      type: mimeType\n    }));\n  });\n};\n\nPica.prototype.debug = function () {};\n\nmodule.exports = Pica;\n\n},{\"./lib/mathlib\":1,\"./lib/pool\":9,\"./lib/stepper\":10,\"./lib/tiler\":11,\"./lib/utils\":12,\"./lib/worker\":13,\"object-assign\":24,\"webworkify\":25}]},{},[])(\"/\")\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/pica/dist/pica.js\n// module id = ftaU\n// module chunks = 0","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open(\"GET\",b),e.responseType=\"blob\",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error(\"could not download file\")},e.send()}function d(a){var b=new XMLHttpRequest;return b.open(\"HEAD\",a,!1),b.send(),200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open(\"\",\"_blank\"),e&&(e.document.title=e.document.body.innerText=\"downloading...\"),\"string\"==typeof a)return c(a,b,d);var g=\"application/octet-stream\"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((i||g&&h)&&\"object\"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}});f.saveAs=a.saveAs=a,\"undefined\"!=typeof module&&(module.exports=a)});\n\n//# sourceMappingURL=FileSaver.min.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/file-saver/dist/FileSaver.min.js\n// module id = t4zo\n// module chunks = 0"],"sourceRoot":""}